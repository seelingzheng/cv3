(function(e){function t(t){for(var a,s,o=t[0],l=t[1],u=t[2],h=0,d=[];h<o.length;h++)s=o[h],n[s]&&d.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,o=1;o<i.length;o++){var l=i[o];0!==n[l]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var a={},n={app:0},r=[];function s(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=a,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(i,a,function(t){return e[t]}.bind(null,a));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"065d":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("btn",{staticClass:"btn-box"},e._l(Object.keys(e.imgProviders),function(t,a){return i("div",{key:a,staticClass:"btn-box-item",class:{"btn-box-item-selected":e.curName==t},on:{click:function(i){return e.getImageryProvider(t)}}},[e._v(e._s(t))])}),0),i("base-cesium",{attrs:{imgurl:e.imgurl},on:{getViewer:e.getViewer}})],1)},n=[],r=(i("7f7f"),i("cadf"),i("551c"),i("f751"),i("097d"),i("ec35")),s=i.n(r),o=i("ab65"),l={name:"",components:{BaseCesium:o["a"]},data:function(){return{imgurl:"",viewer:null,curName:null,viewerLayers:null,imgProviders:{arcgis:{name:"ArcGisMapServerImageryProvider",option:{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",enablePickFeatures:!1}},ion:{name:"IonImageryProvider",option:{assetId:3954}},osm:{name:"createOpenStreetMapImageryProvider",option:{url:"https://a.tile.openstreetmap.org/"}},ctms:{name:"createTileMapServiceImageryProvider",option:{}},grid:{name:"GridImageryProvider",option:{}},mapbox:{name:"MapboxImageryProvider",option:{mapId:"mapbox.satellite"}},single:{name:"SingleTileImageryProvider",option:{url:"/images/world.jpg"}},tc:{name:"TileCoordinatesImageryProvider",option:{}},wms:{name:"WebMapServiceImageryProvider",option:{url:"https://sampleserver1.arcgisonline.com/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer",layers:"0",proxy:new s.a.DefaultProxy("/proxy/")}},wmts:{name:"WebMapTileServiceImageryProvider",option:{url:"http://basemap.nationalmap.gov/arcgis/rest/services/USGSShadedReliefOnly/MapServer/WMTS",layer:"USGSShadedReliefOnly",style:"default",format:"image/jpeg",tileMatrixSetID:"default028mm",maximumLevel:19,credit:new s.a.Credit("U. S. Geological Survey")}},Warm:{name:"UrlTemplateImageryProvider",option:{url:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}"}},PublishBlue:{name:"UrlTemplateImageryProvider",option:{url:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}"}},"高德矢量":{name:"UrlTemplateImageryProvider",option:{url:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]}},"高德影像":{name:"UrlTemplateImageryProvider",option:{url:"  https://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]},road:{url:"https://wprd0{s}.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=2&style=8&ltype=11",subdomains:["1","2","3","4"]},label:{url:"http://webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]}},"腾讯影像":{name:"UrlTemplateImageryProvider",option:{url:"https://p2.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=229",customTags:{sx:function(e,t,i,a){return t>>4},sy:function(e,t,i,a){return(1<<a)-i>>4}}},label:{url:"https://rt3.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=2&version=297"}},"谷歌矢量":{name:"UrlTemplateImageryProvider",option:{url:"http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali"}},"谷歌影像":{name:"UrlTemplateImageryProvider",option:{url:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}"}},localWMS:{name:"WebMapServiceImageryProvider",option:{url:"http://localhost:8080/geoserver/topp/wms",layers:"topp:states",proxy:new s.a.DefaultProxy("/proxy/")}}}}},methods:{getViewer:function(e){this.viewer=e,this.viewerLayers=this.viewer.imageryLayers},getImageryProvider:function(e){this.curName=e;var t=this.imgProviders[e],i=new s.a[t.name](t.option);if(this.viewerLayers.removeAll(),this.viewerLayers.addImageryProvider(i),t.label){var a=new s.a[t.name](t.label);this.viewerLayers.addImageryProvider(a,1)}if(t.road){var n=new s.a[t.name](t.road);this.viewerLayers.addImageryProvider(n,2)}}}},u=l,c=i("2877"),h=Object(c["a"])(u,a,n,!1,null,"f52885b0",null);t["default"]=h.exports},"0b66":function(e,t,i){"use strict";var a=i("b359"),n=i.n(a);n.a},1:function(e,t){},2:function(e,t){},"252c":function(e,t,i){"use strict";var a=i("9569"),n=i.n(a);n.a},"3e22":function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=3.141592653589793,n=6378245,r=.006693421622965943;function s(e,t){if(u(e,t))return[e,t];var i=o(e-105,t-35),s=l(e-105,t-35),c=t/180*a,h=Math.sin(c);h=1-r*h*h;var d=Math.sqrt(h);i=180*i/(n*(1-r)/(h*d)*a),s=180*s/(n/d*Math.cos(c)*a);var m=t+i,p=e+s;return[2*e-p,2*t-m]}function o(e,t){var i=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*a)+20*Math.sin(2*e*a))/3,i+=2*(20*Math.sin(t*a)+40*Math.sin(t/3*a))/3,i+=2*(160*Math.sin(t/12*a)+320*Math.sin(t*a/30))/3,i}function l(e,t){var i=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*a)+20*Math.sin(2*e*a))/3,i+=2*(20*Math.sin(e*a)+40*Math.sin(e/3*a))/3,i+=2*(150*Math.sin(e/12*a)+300*Math.sin(e/30*a))/3,i}function u(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1}},"429a":function(e,t){function i(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="429a"},4957:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("btn",{staticClass:"btn-box"},[i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"type1"==e.curName},on:{click:function(t){return e.getEntity("type1")}}},[e._v("type1")]),i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"type2"==e.curName},on:{click:function(t){return e.getEntity("type2")}}},[e._v("type2")])]),i("base-cesium",{attrs:{imgurl:e.imgurl},on:{getViewer:e.getViewer}}),i("div",{attrs:{id:"heatmap"}})],1)},n=[],r=i("ec35"),s=i.n(r),o=(i("bf1e"),i("ab65")),l={components:{BaseCesium:o["a"]},data:function(){return{viewer:null,curName:null,oldMouseOverPick:null,imgurl:""}},mounted:function(){},methods:{getViewer:function(e){this.viewer=e;this.addHeatmap()},addHeatmap:function(){for(var e=300,t=[],i=100,a=600,n=400,r=28.364807,o=40.251095,l=94.389228,u=108.666357,c=[],h=0;h<e;h++){var d={lat:r+Math.random()*(o-r),lon:l+Math.random()*(u-l),value:Math.floor(100*Math.random())};c.push(d)}for(h=0;h<e;h++){var m=c[h];d={x:Math.floor((m.lat-r)/(o-r)*a),y:Math.floor((m.lon-l)/(u-l)*n),value:Math.floor(m.value)};i=Math.max(i,m.value),t.push(d)}var p=h337.create({container:document.querySelector("#heatmap"),height:n}),v={max:i,data:t};p.setData(v);var f=document.getElementsByClassName("heatmap-canvas");console.log(f),this.viewer.entities.add({name:"heatmap",rectangle:{coordinates:s.a.Rectangle.fromDegrees(l,r,u,o),material:new s.a.ImageMaterialProperty({image:f[0],transparent:!0})}}),viewer.zoomTo(viewer.entities)}}},u=l,c=i("2877"),h=Object(c["a"])(u,a,n,!1,null,"79e5723a",null);t["default"]=h.exports},"4a69":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("HelloCesium")},n=[],r=i("ec35"),s=i.n(r),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("base-cesium",{on:{getViewer:e.getViewer}})],1)},l=[],u=i("ab65"),c={components:{BaseCesium:u["a"]},data:function(){return{viewer:null}},mounted:function(){},methods:{getViewer:function(e){e.imageryLayers.remove(e.imageryLayers.get(0)),e.imageryLayers.addImageryProvider(new s.a.UrlTemplateImageryProvider({url:"http://www.google.cn/maps/vt?lyrs=s&x={x}&y={y}&z={z}",tilingScheme:new s.a.WebMercatorTilingScheme})),e.terrainProvider=s.a.createWorldTerrain({requestWaterMask:!0,requestVertexNormals:!0}),e.scene.globe.depthTestAgainstTerrain=!0,e.scene.globe.enableLighting=!0}}},h=c,d=(i("0b66"),i("2877")),m=Object(d["a"])(h,o,l,!1,null,"f5939b4c",null),p=m.exports,v={components:{HelloCesium:p}},f=v,g=Object(d["a"])(f,a,n,!1,null,null,null);t["default"]=g.exports},"4f2e":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shaders"},[i("btn",{staticClass:"btn-box"},[i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"rain"==e.curShaderName},on:{click:function(t){return e.getRain("rain")}}},[e._v("Rain")]),i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"snow"==e.curShaderName},on:{click:function(t){return e.getSnow("snow")}}},[e._v("Snow")])]),i("base-cesium",{on:{getViewer:e.getViewer}})],1)},n=[],r=i("ec35"),s=i.n(r),o=i("ab65"),l="uniform sampler2D colorTexture;//输入的场景渲染照片\n              varying vec2 v_textureCoordinates;\n\n              float hash(float x){\n                  return fract(sin(x*133.3)*13.13);\n              }\n              \n              void main(void){\n              \n                  float time = czm_frameNumber / 60.0;\n                  vec2 resolution = czm_viewport.zw;\n              \n                  vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n                  vec3 c=vec3(.6,.7,.8);\n                \n                  float a=-.4;\n                  float si=sin(a),co=cos(a);\n                  uv*=mat2(co,-si,si,co);\n                  uv*=length(uv+vec2(0,4.9))*.3+1.;\n              \n                  float v=1.-sin(hash(floor(uv.x*100.))*2.);\n                  float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n                  c*=v*b; //屏幕上雨的颜色\n\n                  gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,1), 0.5); //将雨和三维场景融合\n              }",u="uniform sampler2D colorTexture; //输入的场景渲染照片\n        varying vec2 v_textureCoordinates;\n \n        float snow(vec2 uv,float scale)\n        {\n              float time = czm_frameNumber / 60.0;\n              float w=smoothstep(1.,0.,-uv.y*(scale/10.));if(w<.1)return 0.;\n              uv+=time/scale;uv.y+=time*2./scale;uv.x+=sin(uv.y+time*.5)/scale;\n              uv*=scale;vec2 s=floor(uv),f=fract(uv),p;float k=3.,d;\n              p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;d=length(p);k=min(d,k);\n            k=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n              return k*w;\n          }\n          \n          void main(void){\n              vec2 resolution = czm_viewport.zw;\n              vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n              vec3 finalColor=vec3(0);\n              //float c=smoothstep(1.,0.3,clamp(uv.y*.3+.8,0.,.75));\n              float c = 0.0;\n              c+=snow(uv,30.)*.0;\n              c+=snow(uv,20.)*.0;\n              c+=snow(uv,15.)*.0;\n            c+=snow(uv,10.);\n              c+=snow(uv,8.);\n              c+=snow(uv,6.);\n              c+=snow(uv,5.);\n              finalColor=(vec3(c)); //屏幕上雪的颜色\n              gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(finalColor,1), 0.5);  //将雪和三维场景融合\n        \n          }",c={components:{BaseCesium:o["a"]},data:function(){return{viewer:null,curShaderStage:null,curShaderName:"rain"}},mounted:function(){},methods:{getViewer:function(e){this.viewer=e,this.getRain("rain")},addShader:function(){this.curShaderStage&&this.viewer.scene.postProcessStages.add(this.curShaderStage),this.viewer.scene.skyAtmosphere.hueShift=-.8,this.viewer.scene.skyAtmosphere.saturationShift=-.7,this.viewer.scene.skyAtmosphere.brightnessShift=-.33,this.viewer.scene.fog.density=.001,this.viewer.scene.fog.minimumBrightness=.8},removeShaderStage:function(){this.curShaderStage&&this.viewer.scene.postProcessStages.remove(this.curShaderStage)},resetShaderStage:function(e){this.removeShaderStage(),this.curShaderStage=new s.a.PostProcessStage({fragmentShader:e}),this.addShader()},getRain:function(e){this.curShaderName=e,this.resetShaderStage(l)},getSnow:function(e){this.curShaderName=e,this.resetShaderStage(u)}}},h=c,d=i("2877"),m=Object(d["a"])(h,a,n,!1,null,"335b6c78",null);t["default"]=m.exports},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var a=i("a026"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("el-row",{staticClass:"row-bg tac"},[i("el-col",{staticClass:"menu-container",attrs:{span:4}},[i("div",{staticClass:"grid-content bg-purple"},[i("div",{staticClass:"banner"},[i("img",{attrs:{src:"images/cesium.png",alt:"cesium"}}),e._v("\n          Cesium 案例集\n        ")]),i("el-menu",{attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""},on:{open:e.handleOpen,close:e.handleClose,select:e.handleSelect}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"fa fa-map"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 官方API")])]),i("span",{attrs:{slot:"title"},slot:"title"}),i("el-menu-item",{attrs:{index:"1-1",route:{path:"/"}}},[e._v("Hello")]),i("el-menu-item",{attrs:{index:"1-2",route:{path:"/basepick"}}},[e._v("BaseLayerPicker")]),i("el-menu-item",{attrs:{index:"1-3",route:{path:"/imagery"}}},[e._v("ImageryProvider")]),i("el-menu-item",{attrs:{index:"1-4",route:{path:"/eapi"}}},[e._v("EntityAPI")])],2),i("el-submenu",{attrs:{index:"2"}},[i("template",{slot:"title"},[i("i",{staticClass:"fa fa-internet-explorer"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 综合案例")])]),i("el-menu-item-group",[i("span",{attrs:{slot:"title"},slot:"title"},[e._v("Shader")]),i("el-menu-item",{attrs:{index:"2-1",route:{path:"/shaders"}}},[e._v("Shaders")]),i("el-menu-item",{attrs:{index:"2-2",route:{path:"/materials"}}},[e._v("Materials")])],1)],2)],1)],1)]),i("el-col",{attrs:{span:20}},[i("div",{staticClass:"grid-content bg-purple-light"},[i("router-view")],1)])],1)],1)},r=[],s={data:function(){return{isCollapse:!1,pullV:0}},methods:{showHide:function(){this.isCollapse=!this.isCollapse,isCollapse?this.pullV=2:this.pullV=0},handleSelect:function(e,t){console.log(e,t)},handleOpen:function(e,t){},handleClose:function(e,t){}}},o=s,l=(i("abb8"),i("2877")),u=Object(l["a"])(o,n,r,!1,null,null,null),c=u.exports,h=(i("28a5"),i("ac6a"),i("8c4f")),d=i("4a69"),m=[{path:"/",name:"cesium",component:d["default"]},{path:"*",redirect:"/"}],p=i("e1b5");p.keys().forEach(function(e){var t=e.split("/").pop().split(".").shift();if("hellocesium"!==t){var i=p(e).default,a={path:"/".concat(t),name:t,component:i};m.push(a)}}),a["default"].use(h["a"]);var v=new h["a"]({mode:"history",base:"",routes:m}),f=i("ec35"),g=i.n(f),y=(i("6f8a"),i("0fae"),i("5c96")),_=i.n(y),w=(i("8a13"),i("2ef0")),b=i.n(w);i("bf1e");function x(e,t,i){if(!t)return null;i||(i={}),this._cesium=e,this._options=i,this._id=CesiumHeatmap._getID(),this._options.gradient=this._options.gradient?this._options.gradient:CesiumHeatmap.defaults.gradient,this._options.maxOpacity=this._options.maxOpacity?this._options.maxOpacity:CesiumHeatmap.defaults.maxOpacity,this._options.minOpacity=this._options.minOpacity?this._options.minOpacity:CesiumHeatmap.defaults.minOpacity,this._options.blur=this._options.blur?this._options.blur:CesiumHeatmap.defaults.blur,this._mbounds=CesiumHeatmap.wgs84ToMercatorBB(t),this._setWidthAndHeight(this._mbounds),this._options.radius=Math.round(this._options.radius?this._options.radius:this.width>this.height?this.width/CesiumHeatmap.defaults.radiusFactor:this.height/CesiumHeatmap.defaults.radiusFactor),this._spacing=this._options.radius*CesiumHeatmap.defaults.spacingFactor,this._xoffset=this._mbounds.west,this._yoffset=this._mbounds.south,this.width=Math.round(this.width+2*this._spacing),this.height=Math.round(this.height+2*this._spacing),this._mbounds.west-=this._spacing*this._factor,this._mbounds.east+=this._spacing*this._factor,this._mbounds.south-=this._spacing*this._factor,this._mbounds.north+=this._spacing*this._factor,this.bounds=CesiumHeatmap.mercatorToWgs84BB(this._mbounds),this._rectangle=g.a.Rectangle.fromDegrees(this.bounds.west,this.bounds.south,this.bounds.east,this.bounds.north),this._container=CesiumHeatmap._getContainer(this.width,this.height,this._id),this._options.container=this._container,this._heatmap=h337.create(this._options),this._container.children[0].setAttribute("id",this._id+"-hm")}(function(e){function t(){var e={defaults:{useEntitiesIfAvailable:!0,minCanvasSize:700,maxCanvasSize:2e3,radiusFactor:60,spacingFactor:1.5,maxOpacity:.8,minOpacity:.1,blur:.85,gradient:{".3":"blue",".65":"yellow",".8":"orange",".95":"red"}},create:function(e,t,i){var a=new x(e,t,i);return a},_getContainer:function(e,t,i){var a=document.createElement("div");return i&&a.setAttribute("id",i),a.setAttribute("style","width: "+e+"px; height: "+t+"px; margin: 0px; display: none;"),document.body.appendChild(a),a},_getImageryProvider:function(e){var t=e._heatmap.getDataURL(),i=new g.a.SingleTileImageryProvider({url:t,rectangle:e._rectangle});return i._tilingScheme=new g.a.WebMercatorTilingScheme({rectangleSouthwestInMeters:new g.a.Cartesian2(e._mbounds.west,e._mbounds.south),rectangleNortheastInMeters:new g.a.Cartesian2(e._mbounds.east,e._mbounds.north)}),i},_getID:function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<(e||8);a++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}},t=new g.a.WebMercatorProjection;return e.wgs84ToMercator=function(e){var i=t.project(g.a.Cartographic.fromDegrees(e.x,e.y));return{x:i.x,y:i.y}},e.wgs84ToMercatorBB=function(e){var i=t.project(g.a.Cartographic.fromDegrees(e.west,e.south)),a=t.project(g.a.Cartographic.fromDegrees(e.east,e.north));return{north:a.y,east:a.x,south:i.y,west:i.x}},e.mercatorToWgs84=function(e){var i=t.unproject(new g.a.Cartesian3(e.x,e.y));return{x:i.longitude,y:i.latitude}},e.mercatorToWgs84BB=function(e){var i=t.unproject(new g.a.Cartesian3(e.west,e.south)),a=t.unproject(new g.a.Cartesian3(e.east,e.north));return{north:this.rad2deg(a.latitude),east:this.rad2deg(a.longitude),south:this.rad2deg(i.latitude),west:this.rad2deg(i.longitude)}},e.deg2rad=function(e){var t=e*(Math.PI/180);return t},e.rad2deg=function(e){var t=e/(Math.PI/180);return t},e}"undefined"===typeof CesiumHeatmap?e.CesiumHeatmap=t():console.log("CesiumHeatmap already defined.")})(window),x.prototype.wgs84PointToHeatmapPoint=function(e){return this.mercatorPointToHeatmapPoint(CesiumHeatmap.wgs84ToMercator(e))},x.prototype.mercatorPointToHeatmapPoint=function(e){var t={};return t.x=Math.round((e.x-this._xoffset)/this._factor+this._spacing),t.y=Math.round((e.y-this._yoffset)/this._factor+this._spacing),t.y=this.height-t.y,t},x.prototype._setWidthAndHeight=function(e){this.width=e.east>0&&e.west<0?e.east+Math.abs(e.west):Math.abs(e.east-e.west),this.height=e.north>0&&e.south<0?e.north+Math.abs(e.south):Math.abs(e.north-e.south),this._factor=1,this.width>this.height&&this.width>CesiumHeatmap.defaults.maxCanvasSize?(this._factor=this.width/CesiumHeatmap.defaults.maxCanvasSize,this.height/this._factor<CesiumHeatmap.defaults.minCanvasSize&&(this._factor=this.height/CesiumHeatmap.defaults.minCanvasSize)):this.height>this.width&&this.height>CesiumHeatmap.defaults.maxCanvasSize?(this._factor=this.height/CesiumHeatmap.defaults.maxCanvasSize,this.width/this._factor<CesiumHeatmap.defaults.minCanvasSize&&(this._factor=this.width/CesiumHeatmap.defaults.minCanvasSize)):this.width<this.height&&this.width<CesiumHeatmap.defaults.minCanvasSize?(this._factor=this.width/CesiumHeatmap.defaults.minCanvasSize,this.height/this._factor>CesiumHeatmap.defaults.maxCanvasSize&&(this._factor=this.height/CesiumHeatmap.defaults.maxCanvasSize)):this.height<this.width&&this.height<CesiumHeatmap.defaults.minCanvasSize&&(this._factor=this.height/CesiumHeatmap.defaults.minCanvasSize,this.width/this._factor>CesiumHeatmap.defaults.maxCanvasSize&&(this._factor=this.width/CesiumHeatmap.defaults.maxCanvasSize)),this.width=this.width/this._factor,this.height=this.height/this._factor},x.prototype.setData=function(e,t,i){return!!(i&&i.length>0&&null!==e&&!1!==e&&null!==t&&!1!==t)&&(this._heatmap.setData({min:e,max:t,data:i}),this.updateLayer(),!0)},x.prototype.setWGS84Data=function(e,t,i){if(i&&i.length>0&&null!==e&&!1!==e&&null!==t&&!1!==t){for(var a=[],n=0;n<i.length;n++){var r=i[n],s=this.wgs84PointToHeatmapPoint(r);(r.value||0===r.value)&&(s.value=r.value),a.push(s)}return this.setData(e,t,a)}return!1},x.prototype.show=function(e){this._layer&&(this._layer.show=e)},x.prototype.updateLayer=function(){if(CesiumHeatmap.defaults.useEntitiesIfAvailable&&this._cesium.entities){this._layer&&this._cesium.entities.remove(this._layer);var e=new g.a.ImageMaterialProperty({image:this._heatmap._renderer.canvas});g.a.VERSION>="1.21"?e.transparent=!0:g.a.VERSION>="1.16"&&(e.alpha=.99),this._layer=this._cesium.entities.add({show:!0,rectangle:{coordinates:this._rectangle,material:e}})}else this._layer&&this._cesium.scene.imageryLayers.remove(this._layer),this._layer=this._cesium.scene.imageryLayers.addImageryProvider(CesiumHeatmap._getImageryProvider(this))},a["default"].Cesium=a["default"].prototype.$Cesium=g.a,a["default"].use(_.a),a["default"]._=a["default"].prototype._=b.a,a["default"].config.productionTip=!1,new a["default"]({router:v,render:function(e){return e(c)}}).$mount("#app")},7718:function(e,t,i){},"8a13":function(e,t,i){},"8d30":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("btn",{staticClass:"btn-box"},[i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"rain"==e.curName},on:{click:function(t){return e.getEntity("rain")}}},[e._v("Rain")]),i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"snow"==e.curName},on:{click:function(t){return e.getEntity("snow")}}},[e._v("Snow")])]),i("base-cesium",{attrs:{imgurl:e.imgurl},on:{getViewer:e.getViewer}})],1)},n=[],r=(i("ac6a"),i("7f7f"),i("ec35")),s=i.n(r),o=i("ab65"),l=i("d657"),u=i("3e22"),c={components:{BaseCesium:o["a"]},data:function(){return{viewer:null,curName:null,oldMouseOverPick:null,silhouetteBlue:null,silhouetteGreen:null,nameOverlay:null,imgurl:""}},mounted:function(){},methods:{getViewer:function(e){this.viewer=e,this.addNameOverLay(),this.addShaderStage(),this.rejectPickerEvent(),this.addEntity(),this.addPrimitives()},getEntity:function(e){},addEntity:function(){var e=this.getLXZX3(),t=this.viewer.entities.add({id:"lxzx3",name:"理想中心三栋",polygon:{hierarchy:s.a.Cartesian3.fromDegreesArray(e),height:0,extrudedHeight:100,material:s.a.Color.RED.withAlpha(.5),outline:!0,outlineColor:s.a.Color.BLACK},description:"这里是成都市高新区理想中心3栋"});this.viewer.zoomTo(t)},addPrimitives:function(){var e=this.getLXZX2(),t=new s.a.GeometryInstance({geometry:new s.a.PolygonGeometry({extrudedHeight:100,polygonHierarchy:new s.a.PolygonHierarchy(s.a.Cartesian3.fromDegreesArray(e)),vertexFormat:s.a.PerInstanceColorAppearance.VERTEX_FORMAT}),id:"理想中心二栋",attributes:{color:new s.a.ColorGeometryInstanceAttribute(0,1,1,.5)}});this.viewer.scene.primitives.add(new s.a.Primitive({geometryInstances:[t],appearance:new s.a.PerInstanceColorAppearance}))},rejectPickerEvent:function(){var e=this,t=this,i=new s.a.ScreenSpaceEventHandler(t.viewer.scene.canvas);i.setInputAction(function(e){var i=t.viewer.scene.pick(e.position);s.a.defined(i)&&t.pikcedEntity(i)},s.a.ScreenSpaceEventType.LEFT_CLICK),i.setInputAction(function(i){var a=t.viewer.scene.pick(i.endPosition);if(!s.a.defined(a))return e.hideNameOverLay(),void(e.silhouetteBlue.selected=[]);var n="";"string"==typeof a.id?n=a.id:(n=a.id.name,s.a.defined(n)||(n=a.id.id)),t.showNameOverLay(n,i.endPosition)},s.a.ScreenSpaceEventType.MOUSE_MOVE)},pikcedEntity:function(e){"string"==typeof e.id?e.primitive.material=s.a.Color.GREEN.withAlpha(.5):(e.id.polygon.material=s.a.Color.GREEN.withAlpha(.5),e.id.polygon.outlineColor=s.a.Color.RED)},highlightEntity:function(e){this.silhouetteBlue.selected=[e]},addShaderStage:function(){this.silhouetteBlue=s.a.PostProcessStageLibrary.createEdgeDetectionStage(),this.silhouetteBlue.uniforms.color=s.a.Color.BLUE,this.silhouetteBlue.uniforms.length=.01,this.silhouetteBlue.selected=[],this.silhouetteGreen=s.a.PostProcessStageLibrary.createEdgeDetectionStage(),this.silhouetteGreen.uniforms.color=s.a.Color.LIME,this.silhouetteGreen.uniforms.length=.01,this.silhouetteGreen.selected=[],this.viewer.scene.postProcessStages.add(s.a.PostProcessStageLibrary.createSilhouetteStage([this.silhouetteBlue,this.silhouetteGreen]))},addNameOverLay:function(){this.nameOverlay=document.createElement("div"),this.viewer.container.appendChild(this.nameOverlay),this.nameOverlay.className="backdrop",this.nameOverlay.style.display="none",this.nameOverlay.style.position="absolute",this.nameOverlay.style.bottom="0",this.nameOverlay.style.left="0",this.nameOverlay.style["pointer-events"]="none",this.nameOverlay.style.padding="4px",this.nameOverlay.style.backgroundColor="black"},hideNameOverLay:function(){this.nameOverlay.style.display="none"},showNameOverLay:function(e,t){this.nameOverlay.style.display="block",this.nameOverlay.style.bottom=this.viewer.canvas.clientHeight-t.y+"px",this.nameOverlay.style.left=t.x+200+"px",this.nameOverlay.textContent=e},transferToWGS84:function(e){var t=[];return _.forEach(e,function(e){t.push(Object(u["a"])(e[0],e[1]))}),_.flatten(t)},getLXZX3:function(){return this.transferToWGS84(l["b"])},getLXZX2:function(){return this.transferToWGS84(l["a"])}}},h=c,d=i("2877"),m=Object(d["a"])(h,a,n,!1,null,"2e620868",null);t["default"]=m.exports},9569:function(e,t,i){},ab65:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"cesiumContainer"}})},n=[],r=(i("cadf"),i("551c"),i("f751"),i("097d"),i("ec35")),s=i.n(r),o={name:"BaseCesium",props:["imgurl","basepicker"],data:function(){return{viewer:null}},provide:function(){return{getViewer:this.getViewer}},mounted:function(){var e=s.a.Rectangle.fromDegrees(100,10,120,70);s.a.Camera.DEFAULT_VIEW_RECTANGLE=e;var t={animation:!1,baseLayerPicker:this.basepicker,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,sceneMode:s.a.SceneMode.SCENE3D,navigationHelpButton:!1,scene3DOnly:!0,navigationInstructionsInitiallyVisible:!1,showRenderLoopErrors:!1};this.imgurl&&(t["imageryProvider"]=new s.a.SingleTileImageryProvider({url:this.imgurl})),this.viewer=new s.a.Viewer("cesiumContainer",t),this.viewer._cesiumWidget._creditContainer.style.display="none",this.$emit("getViewer",this.viewer),this.addLogo()},methods:{getViewer:function(e){var t=this;function i(){t.viewer?e(t.viewer):setTimeout(i,100)}i()},addLogo:function(){var e=document.getElementById("cesiumContainer");console.log(e.clientWidth,e.clientHeight);var t=new s.a.ViewportQuad;t.rectangle=new s.a.BoundingRectangle(e.clientWidth-85,5,80,80),this.viewer.scene.primitives.add(t),t.material=new s.a.Material({fabric:{type:"Image",uniforms:{color:new s.a.Color(1,1,1,1),image:"images/qr.jpg"}}})}}},l=o,u=(i("252c"),i("2877")),c=Object(u["a"])(l,a,n,!1,null,"ca06af0e",null);t["a"]=c.exports},abb8:function(e,t,i){"use strict";var a=i("7718"),n=i.n(a);n.a},b359:function(e,t,i){},bf1e:function(e,t,i){"use strict";(function(e){i("a481");var t=i("a4bb"),a=i.n(t);i("6c7b");(function(t,a,n){e.exports?e.exports=n():"function"===typeof define&&i("3c35")?define(n):a[t]=n()})("h337",window,function(){var e={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},t=function(){var t=function(e){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=e["xField"]||e.defaultXField,this._yField=e["yField"]||e.defaultYField,this._valueField=e["valueField"]||e.defaultValueField,e["radius"]&&(this._cfgRadius=e["radius"])},i=e.defaultRadius;return t.prototype={_organiseData:function(e,t){var a=e[this._xField],n=e[this._yField],r=this._radi,s=this._data,o=this._max,l=this._min,u=e[this._valueField]||1,c=e.radius||this._cfgRadius||i;s[a]||(s[a]=[],r[a]=[]),s[a][n]?s[a][n]+=u:(s[a][n]=u,r[a][n]=c);var h=s[a][n];return h>o?(t?this.setDataMax(h):this._max=h,!1):h<l?(t?this.setDataMin(h):this._min=h,!1):{x:a,y:n,value:u,radius:c,min:l,max:o}},_unOrganizeData:function(){var e=[],t=this._data,i=this._radi;for(var a in t)for(var n in t[a])e.push({x:a,y:n,radius:i[a][n],value:t[a][n]});return{min:this._min,max:this._max,data:e}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0){var e=arguments[0],t=e.length;while(t--)this.addData.call(this,e[t])}else{var i=this._organiseData(arguments[0],!0);i&&(0===this._data.length&&(this._min=this._max=i.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[i]}))}return this},setData:function(e){var t=e.data,i=t.length;this._data=[],this._radi=[];for(var a=0;a<i;a++)this._organiseData(t[a],!1);return this._max=e.max,this._min=e.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(e){return this._max=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(e){return this._min=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(e){this._coordinator=e},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},t}(),i=function(){var e=function(e){var t=e.gradient||e.defaultGradient,i=document.createElement("canvas"),a=i.getContext("2d");i.width=256,i.height=1;var n=a.createLinearGradient(0,0,256,1);for(var r in t)n.addColorStop(r,t[r]);return a.fillStyle=n,a.fillRect(0,0,256,1),a.getImageData(0,0,256,1).data},t=function(e,t){var i=document.createElement("canvas"),a=i.getContext("2d"),n=e,r=e;if(i.width=i.height=2*e,1==t)a.beginPath(),a.arc(n,r,e,0,2*Math.PI,!1),a.fillStyle="rgba(0,0,0,1)",a.fill();else{var s=a.createRadialGradient(n,r,e*t,n,r,e);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),a.fillStyle=s,a.fillRect(0,0,2*e,2*e)}return i},i=function(e){var t=[],i=e.min,n=e.max,r=e.radi,s=(e=e.data,a()(e)),o=s.length;while(o--){var l=s[o],u=a()(e[l]),c=u.length;while(c--){var h=u[c],d=e[l][h],m=r[l][h];t.push({x:l,y:h,value:d,radius:m})}}return{min:i,max:n,data:t}};function n(t){var i=t.container,a=this.shadowCanvas=document.createElement("canvas"),n=this.canvas=t.canvas||document.createElement("canvas"),r=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(t.container)||{});n.className="heatmap-canvas",this._width=n.width=a.width=t.width||+r.width.replace(/px/,""),this._height=n.height=a.height=t.height||+r.height.replace(/px/,""),this.shadowCtx=a.getContext("2d"),this.ctx=n.getContext("2d"),n.style.cssText=a.style.cssText="position:absolute;left:0;top:0;",i.style.position="relative",i.appendChild(n),this._palette=e(t),this._templates={},this._setStyles(t)}return n.prototype={renderPartial:function(e){e.data.length>0&&(this._drawAlpha(e),this._colorize())},renderAll:function(e){this._clear(),e.data.length>0&&(this._drawAlpha(i(e)),this._colorize())},_updateGradient:function(t){this._palette=e(t)},updateConfig:function(e){e["gradient"]&&this._updateGradient(e),this._setStyles(e)},setDimensions:function(e,t){this._width=e,this._height=t,this.canvas.width=this.shadowCanvas.width=e,this.canvas.height=this.shadowCanvas.height=t},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(e){this._blur=0==e.blur?0:e.blur||e.defaultBlur,e.backgroundColor&&(this.canvas.style.backgroundColor=e.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=e.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=e.height||this._height,this._opacity=255*(e.opacity||0),this._maxOpacity=255*(e.maxOpacity||e.defaultMaxOpacity),this._minOpacity=255*(e.minOpacity||e.defaultMinOpacity),this._useGradientOpacity=!!e.useGradientOpacity},_drawAlpha:function(e){var i=this._min=e.min,a=this._max=e.max,n=(e=e.data||[],e.length),r=1-this._blur;while(n--){var s,o=e[n],l=o.x,u=o.y,c=o.radius,h=Math.min(o.value,a),d=l-c,m=u-c,p=this.shadowCtx;this._templates[c]?s=this._templates[c]:this._templates[c]=s=t(c,r);var v=(h-i)/(a-i);p.globalAlpha=v<.01?.01:v,p.drawImage(s,d,m),d<this._renderBoundaries[0]&&(this._renderBoundaries[0]=d),m<this._renderBoundaries[1]&&(this._renderBoundaries[1]=m),d+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=d+2*c),m+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=m+2*c)}},_colorize:function(){var e=this._renderBoundaries[0],t=this._renderBoundaries[1],i=this._renderBoundaries[2]-e,a=this._renderBoundaries[3]-t,n=this._width,r=this._height,s=this._opacity,o=this._maxOpacity,l=this._minOpacity,u=this._useGradientOpacity;e<0&&(e=0),t<0&&(t=0),e+i>n&&(i=n-e),t+a>r&&(a=r-t);for(var c=this.shadowCtx.getImageData(e,t,i,a),h=c.data,d=h.length,m=this._palette,p=3;p<d;p+=4){var v,f=h[p],g=4*f;if(g)v=s>0?s:f<o?f<l?l:f:o,h[p-3]=m[g],h[p-2]=m[g+1],h[p-1]=m[g+2],h[p]=u?m[g+3]:v}c.data=h,this.ctx.putImageData(c,e,t),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(e){var t,i=this.shadowCtx,a=i.getImageData(e.x,e.y,1,1),n=a.data[3],r=this._max,s=this._min;return t=Math.abs(r-s)*(n/255)>>0,t},getDataURL:function(){return this.canvas.toDataURL()}},n}(),n=function(){var t=!1;return"canvas2d"===e["defaultRenderer"]&&(t=i),t}(),r={merge:function(){for(var e={},t=arguments.length,i=0;i<t;i++){var a=arguments[i];for(var n in a)e[n]=a[n]}return e}},s=function(){var i=function(){function e(){this.cStore={}}return e.prototype={on:function(e,t,i){var a=this.cStore;a[e]||(a[e]=[]),a[e].push(function(e){return t.call(i,e)})},emit:function(e,t){var i=this.cStore;if(i[e])for(var a=i[e].length,n=0;n<a;n++){var r=i[e][n];r(t)}}},e}(),a=function(e){var t=e._renderer,i=e._coordinator,a=e._store;i.on("renderpartial",t.renderPartial,t),i.on("renderall",t.renderAll,t),i.on("extremachange",function(t){e._config.onExtremaChange&&e._config.onExtremaChange({min:t.min,max:t.max,gradient:e._config["gradient"]||e._config["defaultGradient"]})}),a.setCoordinator(i)};function s(){var s=this._config=r.merge(e,arguments[0]||{});if(this._coordinator=new i,s["plugin"]){var o=s["plugin"];if(!e.plugins[o])throw new Error("Plugin '"+o+"' not found. Maybe it was not registered.");var l=e.plugins[o];this._renderer=new l.renderer(s),this._store=new l.store(s)}else this._renderer=new n(s),this._store=new t(s);a(this)}return s.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(e){return this._config=r.merge(this._config,e),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(e){return this._store.getValueAt?this._store.getValueAt(e):this._renderer.getValueAt?this._renderer.getValueAt(e):null}},s}(),o={create:function(e){return new s(e)},register:function(t,i){e.plugins[t]=i}};return o})}).call(this,i("dd40")(e))},c7a5:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("base-cesium",{attrs:{basepicker:"true"},on:{getViewer:e.getViewer}})],1)},n=[],r=(i("cadf"),i("551c"),i("f751"),i("097d"),i("ec35")),s=i.n(r),o=i("ab65"),l={name:"",components:{BaseCesium:o["a"]},data:function(){return{viewer:null}},methods:{getViewer:function(e){this.viewer=e,this.addSelfBaseLayer()},addSelfBaseLayer:function(){var e=[],t=new s.a.UrlTemplateImageryProvider({url:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]}),i=new s.a.ProviderViewModel({name:"高德矢量",iconUrl:s.a.buildModuleUrl("Widgets/Images/ImageryProviders/openStreetMap.png"),tooltip:"高德矢量 地图服务",creationFunction:function(){return t}});e.push(i);var a=new s.a.UrlTemplateImageryProvider({url:"https://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]}),n=new s.a.UrlTemplateImageryProvider({url:"http://webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]});i=new s.a.ProviderViewModel({name:"高德影像",iconUrl:s.a.buildModuleUrl("Widgets/Images/ImageryProviders/mapboxSatellite.png"),tooltip:"高德影像 地图服务",creationFunction:function(){return[a,n]}});e.push(i);var r=new s.a.UrlTemplateImageryProvider({url:"https://p2.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=229",customTags:{sx:function(e,t,i,a){return t>>4},sy:function(e,t,i,a){return(1<<a)-i>>4}}}),o=new s.a.UrlTemplateImageryProvider({url:"https://rt3.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=2&version=297"});i=new s.a.ProviderViewModel({name:"腾讯影像",iconUrl:s.a.buildModuleUrl("Widgets/Images/ImageryProviders/mapboxSatellite.png"),tooltip:"腾讯影像 地图服务",creationFunction:function(){return[r,o]}});e.push(i),this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels=e}}},u=l,c=i("2877"),h=Object(c["a"])(u,a,n,!1,null,"4ab9ca35",null);t["default"]=h.exports},d657:function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return n});var a=[[104.062994,30.595779],[104.063305,30.59577],[104.063321,30.59552],[104.063428,30.59552],[104.063434,30.595377],[104.063015,30.595363],[104.062999,30.595774],[104.062994,30.595779]],n=[[104.06249,30.595659],[104.062758,30.595765],[104.062736,30.595456],[104.06265,30.595359],[104.062366,30.595368],[104.062361,30.595589],[104.062495,30.595576],[104.06249,30.595659]]},e1b5:function(e,t,i){var a={"./basepick.vue":"c7a5","./eapi.vue":"8d30","./heatmap.vue":"4957","./hellocesium.vue":"4a69","./imagery.vue":"065d","./materials.vue":"f2e3","./shaders.vue":"4f2e"};function n(e){var t=r(e);return i(t)}function r(e){var t=a[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id="e1b5"},f2e3:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("btn",{staticClass:"btn-box"},[i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"video"==e.curName},on:{click:function(t){return e.getEntity("video")}}},[e._v("Video")]),i("div",{staticClass:"btn-box-item",class:{"btn-box-item-selected":"canvas"==e.curName},on:{click:function(t){return e.getEntity("canvas")}}},[e._v("Canvas")])]),i("base-cesium",{attrs:{imgurl:e.imgurl},on:{getViewer:e.getViewer}}),i("video",{attrs:{id:"trailer",muted:"",autoplay:"",loop:"",crossorigin:"",controls:""},domProps:{muted:!0}},[i("source",{attrs:{src:"video/big-buck-bunny_trailer.webm",type:"video/webm"}}),i("source",{attrs:{src:"video/big-buck-bunny_trailer.mp4",type:"video/mp4"}}),i("source",{attrs:{src:"video/big-buck-bunny_trailer.mov",type:"video/quicktime"}}),e._v("Your browser does not support the\n    "),i("code",[e._v("video")]),e._v(" element.\n  ")])],1)},n=[],r=(i("ac6a"),i("ec35")),s=i.n(r),o=i("ab65"),l=i("d657"),u=i("3e22"),c={components:{BaseCesium:o["a"]},data:function(){return{viewer:null,curName:null,oldMouseOverPick:null,imgurl:""}},mounted:function(){},methods:{getViewer:function(e){this.viewer=e,this.addEntity()},getEntity:function(e){},addEntity:function(){var e=document.getElementById("trailer"),t=this.transferToWGS84(),i=this.viewer.entities.add({id:"lxzx3",polygon:{hierarchy:s.a.Cartesian3.fromDegreesArray(t),height:0,extrudedHeight:50,material:e,outline:!0,outlineColor:s.a.Color.BLACK},description:"这里是成都市高新区理想中心3栋"}),a=!0;i.polygon.material.repeat=new s.a.CallbackProperty(function(e,t){return s.a.defined(t)||(t=new s.a.Cartesian2),a?(t.x=8,t.y=8):(t.x=1,t.y=1),t},!1),this.viewer.zoomTo(i)},rejectPickerEvent:function(){var e=this,t=new s.a.ScreenSpaceEventHandler(e.viewer.scene.canvas);t.setInputAction(function(t){e.viewer.scene.pick(t.position)},s.a.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction(function(e){},s.a.ScreenSpaceEventType.MOUSE_MOVE)},transferToWGS84:function(){var e=[];return _.forEach(l["b"],function(t){e.push(Object(u["a"])(t[0],t[1]))}),_.flatten(e)}}},h=c,d=i("2877"),m=Object(d["a"])(h,a,n,!1,null,"6ef5f51e",null);t["default"]=m.exports}});
//# sourceMappingURL=app.d41e0b86.js.map