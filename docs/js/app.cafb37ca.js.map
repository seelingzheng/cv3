{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/imagery.vue?edb4","webpack:///src/views/imagery.vue","webpack:///./src/views/imagery.vue?074e","webpack:///./src/views/imagery.vue","webpack:///./src/components/HelloCesium.vue?0b1a","webpack:///./src/utils/transfer.js","webpack:///./node_modules/cesium/Source/Core sync","webpack:///./src/views/heatmap.vue?718c","webpack:///src/views/heatmap.vue","webpack:///./src/views/heatmap.vue?02fa","webpack:///./src/views/heatmap.vue","webpack:///./src/views/hellocesium.vue?ee79","webpack:///./src/components/HelloCesium.vue?c2bd","webpack:///src/components/HelloCesium.vue","webpack:///./src/components/HelloCesium.vue?db4c","webpack:///./src/components/HelloCesium.vue","webpack:///src/views/hellocesium.vue","webpack:///./src/views/hellocesium.vue?38df","webpack:///./src/views/hellocesium.vue","webpack:///./src/views/shaders.vue?15d5","webpack:///./src/assets/libs/Shaders.js","webpack:///src/views/shaders.vue","webpack:///./src/views/shaders.vue?cd7d","webpack:///./src/views/shaders.vue","webpack:///./src/App.vue?59c5","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/router.js","webpack:///./src/assets/libs/heatmap/CesiumHeatmap.js","webpack:///./src/main.js","webpack:///./src/views/eapi.vue?5335","webpack:///src/views/eapi.vue","webpack:///./src/views/eapi.vue?d56d","webpack:///./src/views/eapi.vue","webpack:///./src/components/BaseCesium.vue?155a","webpack:///src/components/BaseCesium.vue","webpack:///./src/components/BaseCesium.vue?4172","webpack:///./src/components/BaseCesium.vue","webpack:///./src/App.vue?0a4d","webpack:///./src/components/BaseCesium.vue?b925","webpack:///./src/assets/libs/heatmap/heatmap.js","webpack:///./src/assets/data/graphics.js","webpack:///./src/views sync nonrecursive \\.vue$","webpack:///./src/views/materials.vue?db11","webpack:///src/views/materials.vue","webpack:///./src/views/materials.vue?d6df","webpack:///./src/views/materials.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","keys","imgProviders","item","index","class","btn-box-item-selected","curName","on","click","$event","getImageryProvider","_v","_s","attrs","imgurl","getViewer","staticRenderFns","imageryvue_type_script_lang_js_","components","BaseCesium","viewer","viewerLayers","arcgis","option","url","enablePickFeatures","ion","assetId","osm","ctms","grid","mapbox","mapId","single","tc","wms","layers","proxy","Cesium_default","a","DefaultProxy","wmts","layer","style","format","tileMatrixSetID","maximumLevel","credit","Credit","Warm","PublishBlue","高德矢量","subdomains","高德影像","road","label","腾讯影像","customTags","sx","imageryProvider","x","y","level","sy","谷歌矢量","谷歌影像","localWMS","methods","v","imageryLayers","curObj","baseLayer","removeAll","addImageryProvider","labelLayer","_labelLayer","views_imageryvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloCesium_vue_vue_type_style_index_0_id_f5939b4c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloCesium_vue_vue_type_style_index_0_id_f5939b4c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","gcj02towgs84","PI","ee","lng","lat","out_of_china","dlat","transformlat","dlng","transformlng","radlat","magic","Math","sin","sqrtmagic","sqrt","cos","mglat","mglng","ret","abs","webpackEmptyContext","req","e","Error","code","resolve","id","getEntity","heatmapvue_type_script_lang_js_","oldMouseOverPick","mounted","addHeatmap","len","points","max","width","height","latMin","latMax","lonMin","lonMax","dataRaw","point","random","lon","floor","dataItem","heatmapInstance","h337","container","document","querySelector","setData","canvas","getElementsByClassName","console","log","entities","add","rectangle","coordinates","Rectangle","fromDegrees","material","ImageMaterialProperty","image","transparent","zoomTo","views_heatmapvue_type_script_lang_js_","HelloCesiumvue_type_template_id_f5939b4c_scoped_true_render","HelloCesiumvue_type_template_id_f5939b4c_scoped_true_staticRenderFns","HelloCesiumvue_type_script_lang_js_","remove","UrlTemplateImageryProvider","tilingScheme","WebMercatorTilingScheme","terrainProvider","createWorldTerrain","requestWaterMask","requestVertexNormals","scene","globe","depthTestAgainstTerrain","enableLighting","components_HelloCesiumvue_type_script_lang_js_","HelloCesium","hellocesiumvue_type_script_lang_js_","views_hellocesiumvue_type_script_lang_js_","hellocesium_component","curShaderName","getRain","getSnow","rain","snow","shadersvue_type_script_lang_js_","curShaderStage","addShader","postProcessStages","skyAtmosphere","hueShift","saturationShift","brightnessShift","fog","density","minimumBrightness","removeShaderStage","resetShaderStage","shader","PostProcessStage","fragmentShader","views_shadersvue_type_script_lang_js_","Appvue_type_template_id_0e1c59cc_render","span","src","alt","background-color","text-color","active-text-color","router","open","handleOpen","close","handleClose","select","handleSelect","slot","route","path","Appvue_type_script_lang_js_","isCollapse","pullV","showHide","indexPath","keyPath","src_Appvue_type_script_lang_js_","App","routes","redirect","files","require","forEach","split","pop","default","concat","Vue","use","Router","base","process","CHInstance","bb","_cesium","_options","_id","CesiumHeatmap","_getID","gradient","defaults","maxOpacity","minOpacity","blur","_mbounds","wgs84ToMercatorBB","_setWidthAndHeight","radius","round","radiusFactor","_spacing","spacingFactor","_xoffset","west","_yoffset","south","_factor","east","north","bounds","mercatorToWgs84BB","_rectangle","Cesium","_container","_getContainer","_heatmap","children","setAttribute","define_CesiumHeatmap","useEntitiesIfAvailable","minCanvasSize","maxCanvasSize",".3",".65",".8",".95","cesium","options","instance","createElement","body","appendChild","getDataURL","imgprov","SingleTileImageryProvider","_tilingScheme","rectangleSouthwestInMeters","Cartesian2","rectangleNortheastInMeters","text","possible","charAt","WMP","WebMercatorProjection","wgs84ToMercator","mp","project","Cartographic","sw","ne","mercatorToWgs84","wp","unproject","Cartesian3","longitude","latitude","rad2deg","deg2rad","wgs84PointToHeatmapPoint","mercatorPointToHeatmapPoint","pn","mbb","min","updateLayer","setWGS84Data","convdata","gp","hp","show","_layer","_renderer","VERSION","alpha","_getImageryProvider","$Cesium","ElementUI","_","config","productionTip","h","$mount","eapivue_type_script_lang_js_","silhouetteBlue","silhouetteGreen","nameOverlay","addNameOverLay","addShaderStage","rejectPickerEvent","addEntity","addPrimitives","graphic","getLXZX3","wyoming","polygon","hierarchy","fromDegreesArray","extrudedHeight","Color","RED","withAlpha","outline","outlineColor","BLACK","description","getLXZX2","polygonInstance","GeometryInstance","geometry","PolygonGeometry","polygonHierarchy","PolygonHierarchy","vertexFormat","PerInstanceColorAppearance","VERTEX_FORMAT","attributes","color","ColorGeometryInstanceAttribute","primitives","Primitive","geometryInstances","appearance","_this","vm","handler","ScreenSpaceEventHandler","setInputAction","movement","pick","position","defined","pikcedEntity","ScreenSpaceEventType","LEFT_CLICK","pickedFeature","endPosition","hideNameOverLay","selected","showNameOverLay","MOUSE_MOVE","primitive","GREEN","highlightEntity","PostProcessStageLibrary","createEdgeDetectionStage","uniforms","BLUE","LIME","createSilhouetteStage","className","display","bottom","left","padding","backgroundColor","content","clientHeight","textContent","transferToWGS84","newdata","transfer","flatten","graphics","views_eapivue_type_script_lang_js_","BaseCesiumvue_type_script_lang_js_","props","provide","china","Camera","DEFAULT_VIEW_RECTANGLE","initOption","animation","baseLayerPicker","fullscreenButton","geocoder","homeButton","infoBox","sceneModePicker","selectionIndicator","timeline","sceneMode","SceneMode","SCENE3D","navigationHelpButton","scene3DOnly","navigationInstructionsInitiallyVisible","showRenderLoopErrors","Viewer","_cesiumWidget","_creditContainer","$emit","addLogo","found","checkForMap","setTimeout","mapDom","getElementById","clientWidth","viewportQuad","ViewportQuad","BoundingRectangle","Material","fabric","type","components_BaseCesiumvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BaseCesium_vue_vue_type_style_index_0_id_ed5e1c7c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BaseCesium_vue_vue_type_style_index_0_id_ed5e1c7c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","context","factory","define","HeatmapConfig","defaultRadius","defaultRenderer","defaultGradient","0.25","0.55","0.85","1","defaultMaxOpacity","defaultMinOpacity","defaultBlur","defaultXField","defaultYField","defaultValueField","plugins","Store","_coordinator","_data","_radi","_min","_max","_xField","_yField","_valueField","_cfgRadius","_organiseData","dataPoint","forceRender","radi","store","storedVal","setDataMax","setDataMin","_unOrganizeData","unorganizedData","_onExtremaChange","emit","addData","arguments","dataArr","dataLen","organisedEntry","dataPoints","pointsLen","_getInternalData","removeData","setCoordinator","coordinator","getData","Canvas2dRenderer","_getColorPalette","gradientConfig","paletteCanvas","paletteCtx","getContext","createLinearGradient","addColorStop","fillStyle","fillRect","getImageData","_getPointTemplate","blurFactor","tplCanvas","tplCtx","beginPath","arc","fill","createRadialGradient","_prepareData","renderData","xValues","_Users_zhengqj_workspace_project_github_vue_cesium_vue3_cesium_js_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_1___default","xValuesLen","xValue","yValues","yValuesLen","yValue","shadowCanvas","computed","_renderBoundaries","getComputedStyle","_width","replace","_height","shadowCtx","ctx","cssText","_palette","_templates","_setStyles","renderPartial","_drawAlpha","_colorize","renderAll","_clear","_updateGradient","updateConfig","setDimensions","clearRect","_blur","_opacity","opacity","_maxOpacity","_minOpacity","_useGradientOpacity","useGradientOpacity","tpl","rectX","rectY","templateAlpha","globalAlpha","drawImage","maxWidth","maxHeight","img","imgData","palette","finalAlpha","offset","putImageData","getValueAt","toDataURL","Renderer","rendererFn","Util","merge","merged","argsLen","obj","Heatmap","Coordinator","cStore","evtName","callback","scope","_connect","renderer","_store","_config","onExtremaChange","pluginToLoad","plugin","configure","repaint","heatmapFactory","register","pluginKey","lxzx3","lxzx2","map","./eapi.vue","./heatmap.vue","./hellocesium.vue","./imagery.vue","./materials.vue","./shaders.vue","webpackContext","webpackContextResolve","muted","autoplay","loop","crossorigin","controls","domProps","materialsvue_type_script_lang_js_","videoElement","isRepeating","repeat","CallbackProperty","time","newLXZX3","views_materialsvue_type_script_lang_js_"],"mappings":"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","file":"js/app.cafb37ca.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('btn',{staticClass:\"btn-box\"},_vm._l((Object.keys(_vm.imgProviders)),function(item,index){return _c('div',{key:index,staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curName==item},on:{\"click\":function($event){return _vm.getImageryProvider(item)}}},[_vm._v(_vm._s(item))])}),0),_c('base-cesium',{attrs:{\"imgurl\":_vm.imgurl},on:{\"getViewer\":_vm.getViewer}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <btn class=\"btn-box\">\n      <div\n        v-for=\"(item, index) in Object.keys(imgProviders)\"\n        :key=\"index\"\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curName==item}\"\n        @click=\"getImageryProvider(item)\"\n      >{{item}}</div>\n    </btn>\n    <base-cesium @getViewer=\"getViewer\" :imgurl=\"imgurl\"></base-cesium>\n  </div>\n</template>\n\n<script>\nimport Cesium from \"cesium/Cesium\";\nimport BaseCesium from \"../components/BaseCesium\";\nexport default {\n  name: \"\",\n  components: {\n    BaseCesium\n  },\n  data() {\n    return {\n      imgurl: \"\",\n      viewer: null,\n      curName: null,\n      viewerLayers: null,\n      imgProviders: {\n        arcgis: {\n          name: \"ArcGisMapServerImageryProvider\",\n          option: {\n            url:\n              \"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer\",\n            enablePickFeatures: false\n          }\n        },\n        ion: {\n          name: \"IonImageryProvider\",\n          option: {\n            assetId: 3954\n          }\n        },\n\n        osm: {\n          name: \"createOpenStreetMapImageryProvider\",\n          option: { url: \"https://a.tile.openstreetmap.org/\" }\n        },\n        ctms: { name: \"createTileMapServiceImageryProvider\", option: {} },\n        grid: { name: \"GridImageryProvider\", option: {} },\n        mapbox: {\n          name: \"MapboxImageryProvider\",\n          option: {\n            mapId: \"mapbox.satellite\"\n          }\n        },\n        single: {\n          name: \"SingleTileImageryProvider\",\n          option: {\n            url: \"/images/world.jpg\"\n          }\n        },\n        tc: { name: \"TileCoordinatesImageryProvider\", option: {} },\n\n        wms: {\n          name: \"WebMapServiceImageryProvider\",\n          option: {\n            url:\n              \"https://sampleserver1.arcgisonline.com/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer\",\n            layers: \"0\",\n            proxy: new Cesium.DefaultProxy(\"/proxy/\")\n          }\n        },\n        wmts: {\n          name: \"WebMapTileServiceImageryProvider\",\n          option: {\n            url:\n              \"http://basemap.nationalmap.gov/arcgis/rest/services/USGSShadedReliefOnly/MapServer/WMTS\",\n            layer: \"USGSShadedReliefOnly\",\n            style: \"default\",\n            format: \"image/jpeg\",\n            tileMatrixSetID: \"default028mm\",\n            // tileMatrixLabels : ['default028mm:0', 'default028mm:1', 'default028mm:2' ...],\n            maximumLevel: 19,\n            credit: new Cesium.Credit(\"U. S. Geological Survey\")\n          }\n        },\n        Warm: {\n          name: \"UrlTemplateImageryProvider\",\n          option: {\n            url:\n              \"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}\"\n          }\n        },\n\n        PublishBlue: {\n          name: \"UrlTemplateImageryProvider\",\n          option: {\n            url:\n              \"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}\"\n          }\n        },\n\n        高德矢量: {\n          name: \"UrlTemplateImageryProvider\",\n          option: {\n            // url:\n            //   \"  https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}\"\n            url:\n              \"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}\",\n            subdomains: [\"1\", \"2\", \"3\", \"4\"]\n          }\n        },\n        高德影像: {\n          name: \"UrlTemplateImageryProvider\",\n          option: {\n            url:\n              \"  https://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}\",\n            subdomains: [\"1\", \"2\", \"3\", \"4\"]\n          },\n          road: {\n            url:\n              \"https://wprd0{s}.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=2&style=8&ltype=11\",\n            subdomains: [\"1\", \"2\", \"3\", \"4\"]\n          },\n          label: {\n            url:\n              \"http://webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}\",\n            subdomains: [\"1\", \"2\", \"3\", \"4\"]\n          }\n        },\n\n        腾讯影像: {\n          name: \"UrlTemplateImageryProvider\",\n          option: {\n            url:\n              \"https://p2.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=229\",\n            customTags: {\n              sx: function(imageryProvider, x, y, level) {\n                return x >> 4;\n              },\n              sy: function(imageryProvider, x, y, level) {\n                return ((1 << level) - y) >> 4;\n              }\n            }\n          },\n          label: {\n            url:\n              \"https://rt3.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=2&version=297\"\n          }\n        },\n        谷歌矢量: {\n          name: \"UrlTemplateImageryProvider\",\n          option: {\n            url:\n              \"http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali\"\n          }\n        },\n        谷歌影像: {\n          name: \"UrlTemplateImageryProvider\",\n          option: {\n            url:\n              \"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}\"\n          }\n        },\n        localWMS: {\n          name: \"WebMapServiceImageryProvider\",\n          option: {\n            url: \"http://localhost:8080/geoserver/topp/wms\",\n            layers: \"topp:states\",\n            proxy: new Cesium.DefaultProxy(\"/proxy/\")\n          }\n        }\n      }\n    };\n  },\n\n  methods: {\n    getViewer(v) {\n      this.viewer = v;\n      this.viewerLayers = this.viewer.imageryLayers;\n    },\n    getImageryProvider(key) {\n      this.curName = key;\n      let curObj = this.imgProviders[key];\n      //创建imageryProvider\n      let baseLayer = new Cesium[curObj.name](curObj.option);\n      //移除图层\n\n      // this.viewerLayers.remove(this.viewer.imageryLayers.get(0));\n      this.viewerLayers.removeAll();\n      //添加图层\n      this.viewerLayers.addImageryProvider(baseLayer);\n\n      if (curObj.label) {\n        let labelLayer = new Cesium[curObj.name](curObj.label);\n        this.viewerLayers.addImageryProvider(labelLayer, 1);\n      }\n      if (curObj.road) {\n        let labelLayer = new Cesium[curObj.name](curObj.road);\n        this.viewerLayers.addImageryProvider(labelLayer, 2);\n      }\n    }\n  }\n};\n</script>\n\n<style lang = 'less' scoped >\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./imagery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./imagery.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./imagery.vue?vue&type=template&id=f52885b0&scoped=true&\"\nimport script from \"./imagery.vue?vue&type=script&lang=js&\"\nexport * from \"./imagery.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f52885b0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloCesium.vue?vue&type=style&index=0&id=f5939b4c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloCesium.vue?vue&type=style&index=0&id=f5939b4c&scoped=true&lang=css&\"","//定义一些常量\nvar x_PI = 3.14159265358979324 * 3000.0 / 180.0;\nvar PI = 3.1415926535897932384626;\nvar a = 6378245.0;\nvar ee = 0.00669342162296594323;\n\n/**\n * 百度坐标系 (BD-09) 与 火星坐标系 (GCJ-02)的转换\n * 即 百度 转 谷歌、高德\n * @param bd_lon\n * @param bd_lat\n * @returns {*[]}\n */\nfunction bd09togcj02(bd_lon, bd_lat) {\n  var x_pi = 3.14159265358979324 * 3000.0 / 180.0;\n  var x = bd_lon - 0.0065;\n  var y = bd_lat - 0.006;\n  var z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_pi);\n  var theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_pi);\n  var gg_lng = z * Math.cos(theta);\n  var gg_lat = z * Math.sin(theta);\n  return [gg_lng, gg_lat]\n}\n\n/**\n * 火星坐标系 (GCJ-02) 与百度坐标系 (BD-09) 的转换\n * 即谷歌、高德 转 百度\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nfunction gcj02tobd09(lng, lat) {\n  var z = Math.sqrt(lng * lng + lat * lat) + 0.00002 * Math.sin(lat * x_PI);\n  var theta = Math.atan2(lat, lng) + 0.000003 * Math.cos(lng * x_PI);\n  var bd_lng = z * Math.cos(theta) + 0.0065;\n  var bd_lat = z * Math.sin(theta) + 0.006;\n  return [bd_lng, bd_lat]\n}\n\n/**\n * WGS84转GCj02\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nfunction wgs84togcj02(lng, lat) {\n  if (out_of_china(lng, lat)) {\n    return [lng, lat]\n  } else {\n    var dlat = transformlat(lng - 105.0, lat - 35.0);\n    var dlng = transformlng(lng - 105.0, lat - 35.0);\n    var radlat = lat / 180.0 * PI;\n    var magic = Math.sin(radlat);\n    magic = 1 - ee * magic * magic;\n    var sqrtmagic = Math.sqrt(magic);\n    dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);\n    dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);\n    var mglat = lat + dlat;\n    var mglng = lng + dlng;\n    return [mglng, mglat]\n  }\n}\n\n/**\n * GCJ02 转换为 WGS84\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nfunction gcj02towgs84(lng, lat) {\n  if (out_of_china(lng, lat)) {\n    return [lng, lat]\n  } else {\n    var dlat = transformlat(lng - 105.0, lat - 35.0);\n    var dlng = transformlng(lng - 105.0, lat - 35.0);\n    var radlat = lat / 180.0 * PI;\n    var magic = Math.sin(radlat);\n    magic = 1 - ee * magic * magic;\n    var sqrtmagic = Math.sqrt(magic);\n    dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);\n    dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);\n    var mglat = lat + dlat;\n    var mglng = lng + dlng;\n    return [lng * 2 - mglng, lat * 2 - mglat]\n  }\n}\n\nfunction transformlat(lng, lat) {\n  var ret = -100.0 + 2.0 * lng + 3.0 * lat + 0.2 * lat * lat + 0.1 * lng * lat + 0.2 * Math.sqrt(Math.abs(lng));\n  ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;\n  ret += (20.0 * Math.sin(lat * PI) + 40.0 * Math.sin(lat / 3.0 * PI)) * 2.0 / 3.0;\n  ret += (160.0 * Math.sin(lat / 12.0 * PI) + 320 * Math.sin(lat * PI / 30.0)) * 2.0 / 3.0;\n  return ret\n}\n\nfunction transformlng(lng, lat) {\n  var ret = 300.0 + lng + 2.0 * lat + 0.1 * lng * lng + 0.1 * lng * lat + 0.1 * Math.sqrt(Math.abs(lng));\n  ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;\n  ret += (20.0 * Math.sin(lng * PI) + 40.0 * Math.sin(lng / 3.0 * PI)) * 2.0 / 3.0;\n  ret += (150.0 * Math.sin(lng / 12.0 * PI) + 300.0 * Math.sin(lng / 30.0 * PI)) * 2.0 / 3.0;\n  return ret\n}\n\n/**\n * 判断是否在国内，不在国内则不做偏移\n * @param lng\n * @param lat\n * @returns {boolean}\n */\nfunction out_of_china(lng, lat) {\n  return (lng < 72.004 || lng > 137.8347) || ((lat < 0.8293 || lat > 55.8271) || false);\n}\n\nexport {\n  bd09togcj02,\n  gcj02tobd09,\n  wgs84togcj02,\n  gcj02towgs84,\n  out_of_china\n\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"429a\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('btn',{staticClass:\"btn-box\"},[_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curName=='type1'},on:{\"click\":function($event){return _vm.getEntity('type1')}}},[_vm._v(\"type1\")]),_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curName=='type2'},on:{\"click\":function($event){return _vm.getEntity('type2')}}},[_vm._v(\"type2\")])]),_c('base-cesium',{attrs:{\"imgurl\":_vm.imgurl},on:{\"getViewer\":_vm.getViewer}}),_c('div',{attrs:{\"id\":\"heatmap\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <btn class=\"btn-box\">\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curName=='type1'}\"\n        @click=\"getEntity('type1')\"\n      >type1</div>\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curName=='type2'}\"\n        @click=\"getEntity('type2')\"\n      >type2</div>\n    </btn>\n    <base-cesium @getViewer=\"getViewer\" :imgurl=\"imgurl\"></base-cesium>\n    <div id=\"heatmap\"></div>\n  </div>\n</template>\n\n<script>\nimport Cesium from \"cesium/Cesium\";\nimport \"@/assets/libs/heatmap/heatmap\";\nimport BaseCesium from \"@/components/BaseCesium\";\nexport default {\n  components: {\n    BaseCesium\n  },\n  data() {\n    return {\n      viewer: null,\n      curName: null,\n      oldMouseOverPick: null,\n      imgurl: \"\" //\"/images/world.jpg\"\n    };\n  },\n\n  mounted() {},\n  methods: {\n    getViewer(v) {\n      this.viewer = v;\n      let bounds = {\n        west: 147.13833844,\n        east: 147.13856899,\n        south: -41.43606916,\n        north: -41.43582929\n      };\n\n      this.addHeatmap();\n      // random example data\n      // let points = [\n      //   { x: 147.1383442264, y: -41.4360048372, value: 76 },\n      //   { x: 147.1384363011, y: -41.4360298848, value: 63 },\n      //   { x: 147.138368102, y: -41.4358360603, value: 1 },\n      //   { x: 147.1385627739, y: -41.4358799123, value: 21 },\n      //   { x: 147.1385138501, y: -41.4359327669, value: 28 },\n      //   { x: 147.1385031219, y: -41.4359730105, value: 41 },\n      //   { x: 147.1384127393, y: -41.435928255, value: 75 },\n      //   { x: 147.1384551136, y: -41.4359450132, value: 3 },\n      //   { x: 147.1384927196, y: -41.4359158649, value: 45 },\n      //   { x: 147.1384938639, y: -41.4358498311, value: 45 },\n      //   { x: 147.1385183299, y: -41.4360213794, value: 93 },\n      //   { x: 147.1384007925, y: -41.4359860133, value: 46 },\n      //   { x: 147.1383604844, y: -41.4358298672, value: 54 },\n      //   { x: 147.13851025, y: -41.4359098303, value: 39 },\n      //   { x: 147.1383874733, y: -41.4358511035, value: 34 },\n      //   { x: 147.1384981796, y: -41.4359355403, value: 81 },\n      //   { x: 147.1384504107, y: -41.4360332348, value: 39 },\n      //   { x: 147.1385582664, y: -41.4359788335, value: 20 },\n      //   { x: 147.1383967364, y: -41.4360581999, value: 35 },\n      //   { x: 147.1383839615, y: -41.436016316, value: 47 },\n      //   { x: 147.1384082712, y: -41.4358423338, value: 36 },\n      //   { x: 147.1385092651, y: -41.4358577623, value: 69 },\n      //   { x: 147.138360356, y: -41.436046789, value: 90 },\n      //   { x: 147.138471893, y: -41.4359184292, value: 88 },\n      //   { x: 147.1385605689, y: -41.4360271359, value: 81 },\n      //   { x: 147.1383585714, y: -41.4359362476, value: 32 },\n      //   { x: 147.1384939114, y: -41.4358844253, value: 67 },\n      //   { x: 147.138466724, y: -41.436019121, value: 17 },\n      //   { x: 147.1385504355, y: -41.4360614056, value: 49 },\n      //   { x: 147.1383883832, y: -41.4358733544, value: 82 },\n      //   { x: 147.1385670669, y: -41.4359650236, value: 25 },\n      //   { x: 147.1383416534, y: -41.4359310876, value: 82 },\n      //   { x: 147.138525285, y: -41.4359394661, value: 66 },\n      //   { x: 147.1385487719, y: -41.4360137656, value: 73 },\n      //   { x: 147.1385496029, y: -41.4359187277, value: 73 },\n      //   { x: 147.1383989222, y: -41.4358556562, value: 61 },\n      //   { x: 147.1385499424, y: -41.4359149305, value: 67 },\n      //   { x: 147.138404523, y: -41.4359563326, value: 90 },\n      //   { x: 147.1383883675, y: -41.4359794855, value: 78 },\n      //   { x: 147.1383967187, y: -41.435891185, value: 15 },\n      //   { x: 147.1384610005, y: -41.4359044797, value: 15 },\n      //   { x: 147.1384688489, y: -41.4360396127, value: 91 },\n      //   { x: 147.1384431875, y: -41.4360684409, value: 8 },\n      //   { x: 147.1385411067, y: -41.4360645847, value: 42 },\n      //   { x: 147.1385237178, y: -41.4358843181, value: 31 },\n      //   { x: 147.1384406464, y: -41.4360003831, value: 51 },\n      //   { x: 147.1384679169, y: -41.4359950456, value: 96 },\n      //   { x: 147.1384194314, y: -41.4358419739, value: 22 },\n      //   { x: 147.1385049792, y: -41.4359574813, value: 44 },\n      //   { x: 147.1384097378, y: -41.4358598672, value: 82 },\n      //   { x: 147.1384993219, y: -41.4360352975, value: 84 },\n      //   { x: 147.1383640499, y: -41.4359839518, value: 81 }\n      // ];\n      // let valueMin = 0;\n      // let valueMax = 100;\n\n      // let option = {\n      //   bounds,\n      //   data: {\n      //     min: 0,\n      //     max: 100,\n      //     points\n      //   }\n      // };\n\n      // var heatProvider = new Cesium.HeatmapImageryProvider(option);\n      // this.viewer.scene.imageryLayers.addImageryProvider(heatProvider);\n\n      // this.viewer.entities.add({\n      //   point: {\n      //     coordinates: Cesium.Rectangle.fromDegrees(147.1385, -41.435)\n      //   }\n      // });\n      // this.viewer.zoomTo(this.viewer.entities);\n    },\n    addHeatmap() {\n      var len = 300;\n      var points = [];\n      var max = 100;\n      var width = 600;\n      var height = 400;\n\n      var latMin = 28.364807;\n      var latMax = 40.251095;\n      var lonMin = 94.389228;\n      var lonMax = 108.666357;\n\n      var dataRaw = [];\n      for (var i = 0; i < len; i++) {\n        var point = {\n          lat: latMin + Math.random() * (latMax - latMin),\n          lon: lonMin + Math.random() * (lonMax - lonMin),\n          value: Math.floor(Math.random() * 100)\n        };\n        dataRaw.push(point);\n      }\n\n      for (var i = 0; i < len; i++) {\n        var dataItem = dataRaw[i];\n        var point = {\n          x: Math.floor(((dataItem.lat - latMin) / (latMax - latMin)) * width),\n          y: Math.floor(((dataItem.lon - lonMin) / (lonMax - lonMin)) * height),\n          value: Math.floor(dataItem.value)\n        };\n        max = Math.max(max, dataItem.value);\n        points.push(point);\n      }\n\n      var heatmapInstance = h337.create({\n        container: document.querySelector(\"#heatmap\"),\n        height\n      });\n\n      var data = {\n        max: max,\n        data: points\n      };\n      //\n      heatmapInstance.setData(data);\n\n      var canvas = document.getElementsByClassName(\"heatmap-canvas\");\n      console.log(canvas);\n      this.viewer.entities.add({\n        name: \"heatmap\",\n        rectangle: {\n          coordinates: Cesium.Rectangle.fromDegrees(\n            lonMin,\n            latMin,\n            lonMax,\n            latMax\n          ),\n          material: new Cesium.ImageMaterialProperty({\n            image: canvas[0],\n            transparent: true\n          })\n        }\n      });\n\n      viewer.zoomTo(viewer.entities);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang='scss' scoped>\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./heatmap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./heatmap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./heatmap.vue?vue&type=template&id=79e5723a&scoped=true&\"\nimport script from \"./heatmap.vue?vue&type=script&lang=js&\"\nexport * from \"./heatmap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79e5723a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('HelloCesium')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-cesium',{on:{\"getViewer\":_vm.getViewer}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <base-cesium @getViewer=\"getViewer\"></base-cesium>\n  </div>\n</template>\n\n<script>\nimport Cesium from \"cesium/Cesium\";\nimport BaseCesium from \"./BaseCesium\";\n\nexport default {\n  components: {\n    BaseCesium\n  },\n  data() {\n    return {\n      viewer: null\n    };\n  },\n\n  mounted() {},\n  methods: {\n    getViewer(v) {\n      // 删除默认的影像图层\n      v.imageryLayers.remove(v.imageryLayers.get(0));\n\n      // 增加谷歌影像底图\n      v.imageryLayers.addImageryProvider(\n        new Cesium.UrlTemplateImageryProvider({\n          url: \"http://www.google.cn/maps/vt?lyrs=s&x={x}&y={y}&z={z}\",\n          tilingScheme: new Cesium.WebMercatorTilingScheme()\n        })\n      );\n      v.terrainProvider = Cesium.createWorldTerrain({\n        requestWaterMask: true, // required for water effects\n        requestVertexNormals: true // required for terrain lighting\n      });\n      // 打开深度检测，那么在地形以下的对象不可见\n      v.scene.globe.depthTestAgainstTerrain = true;\n      // 开启全球光照\n      v.scene.globe.enableLighting = true;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloCesium.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloCesium.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelloCesium.vue?vue&type=template&id=f5939b4c&scoped=true&\"\nimport script from \"./HelloCesium.vue?vue&type=script&lang=js&\"\nexport * from \"./HelloCesium.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HelloCesium.vue?vue&type=style&index=0&id=f5939b4c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f5939b4c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <HelloCesium></HelloCesium>\n</template>\n<script>\nimport Cesium from \"cesium/Cesium\";\nimport HelloCesium from \"@/components/HelloCesium.vue\";\n\nexport default {\n  components: {\n    HelloCesium\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hellocesium.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hellocesium.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./hellocesium.vue?vue&type=template&id=3b707e80&\"\nimport script from \"./hellocesium.vue?vue&type=script&lang=js&\"\nexport * from \"./hellocesium.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shaders\"},[_c('btn',{staticClass:\"btn-box\"},[_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curShaderName=='rain'},on:{\"click\":function($event){return _vm.getRain('rain')}}},[_vm._v(\"Rain\")]),_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curShaderName=='snow'},on:{\"click\":function($event){return _vm.getSnow('snow')}}},[_vm._v(\"Snow\")])]),_c('base-cesium',{on:{\"getViewer\":_vm.getViewer}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const rain = `uniform sampler2D colorTexture;//输入的场景渲染照片\n              varying vec2 v_textureCoordinates;\n\n              float hash(float x){\n                  return fract(sin(x*133.3)*13.13);\n              }\n              \n              void main(void){\n              \n                  float time = czm_frameNumber / 60.0;\n                  vec2 resolution = czm_viewport.zw;\n              \n                  vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n                  vec3 c=vec3(.6,.7,.8);\n                \n                  float a=-.4;\n                  float si=sin(a),co=cos(a);\n                  uv*=mat2(co,-si,si,co);\n                  uv*=length(uv+vec2(0,4.9))*.3+1.;\n              \n                  float v=1.-sin(hash(floor(uv.x*100.))*2.);\n                  float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n                  c*=v*b; //屏幕上雨的颜色\n\n                  gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,1), 0.5); //将雨和三维场景融合\n              }`;\n\nexport const snow = `uniform sampler2D colorTexture; //输入的场景渲染照片\n        varying vec2 v_textureCoordinates;\n \n        float snow(vec2 uv,float scale)\n        {\n              float time = czm_frameNumber / 60.0;\n              float w=smoothstep(1.,0.,-uv.y*(scale/10.));if(w<.1)return 0.;\n              uv+=time/scale;uv.y+=time*2./scale;uv.x+=sin(uv.y+time*.5)/scale;\n              uv*=scale;vec2 s=floor(uv),f=fract(uv),p;float k=3.,d;\n              p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;d=length(p);k=min(d,k);\n            k=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n              return k*w;\n          }\n          \n          void main(void){\n              vec2 resolution = czm_viewport.zw;\n              vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n              vec3 finalColor=vec3(0);\n              //float c=smoothstep(1.,0.3,clamp(uv.y*.3+.8,0.,.75));\n              float c = 0.0;\n              c+=snow(uv,30.)*.0;\n              c+=snow(uv,20.)*.0;\n              c+=snow(uv,15.)*.0;\n            c+=snow(uv,10.);\n              c+=snow(uv,8.);\n              c+=snow(uv,6.);\n              c+=snow(uv,5.);\n              finalColor=(vec3(c)); //屏幕上雪的颜色\n              gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(finalColor,1), 0.5);  //将雪和三维场景融合\n        \n          }`;","<template>\n  <div class=\"shaders\">\n    <btn class=\"btn-box\">\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curShaderName=='rain'}\"\n        @click=\"getRain('rain')\"\n      >Rain</div>\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curShaderName=='snow'}\"\n        @click=\"getSnow('snow')\"\n      >Snow</div>\n    </btn>\n    <base-cesium @getViewer=\"getViewer\"></base-cesium>\n  </div>\n</template>\n\n<script>\nimport Cesium from \"cesium/Cesium\";\nimport BaseCesium from \"@/components/BaseCesium\";\nimport { snow, rain } from \"@/assets/libs/Shaders.js\";\nexport default {\n  components: {\n    BaseCesium\n  },\n  data() {\n    return {\n      viewer: null,\n      curShaderStage: null,\n      curShaderName: \"rain\"\n    };\n  },\n\n  mounted() {},\n  methods: {\n    getViewer(v) {\n      this.viewer = v;\n      this.getRain(\"rain\");\n    },\n    addShader() {\n      if (this.curShaderStage)\n        this.viewer.scene.postProcessStages.add(this.curShaderStage);\n      this.viewer.scene.skyAtmosphere.hueShift = -0.8;\n      this.viewer.scene.skyAtmosphere.saturationShift = -0.7;\n      this.viewer.scene.skyAtmosphere.brightnessShift = -0.33;\n\n      this.viewer.scene.fog.density = 0.001;\n      this.viewer.scene.fog.minimumBrightness = 0.8;\n    },\n    removeShaderStage() {\n      if (this.curShaderStage)\n        this.viewer.scene.postProcessStages.remove(this.curShaderStage);\n    },\n    resetShaderStage(shader) {\n      this.removeShaderStage();\n      this.curShaderStage = new Cesium.PostProcessStage({\n        fragmentShader: shader\n      });\n      this.addShader();\n    },\n    getRain(n) {\n      this.curShaderName = n;\n      this.resetShaderStage(rain);\n    },\n    getSnow(n) {\n      this.curShaderName = n;\n      this.resetShaderStage(snow);\n    }\n  }\n};\n</script>\n \n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang='scss' scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shaders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shaders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shaders.vue?vue&type=template&id=335b6c78&scoped=true&\"\nimport script from \"./shaders.vue?vue&type=script&lang=js&\"\nexport * from \"./shaders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"335b6c78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('el-row',{staticClass:\"row-bg tac\"},[_c('el-col',{staticClass:\"menu-container\",attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('div',{staticClass:\"banner\"},[_c('img',{attrs:{\"src\":\"images/cesium.png\",\"alt\":\"cesium\"}}),_vm._v(\"\\n          Cesium 案例集\\n        \")]),_c('el-menu',{attrs:{\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\",\"router\":\"\"},on:{\"open\":_vm.handleOpen,\"close\":_vm.handleClose,\"select\":_vm.handleSelect}},[_c('el-submenu',{attrs:{\"index\":\"1\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"fa fa-map\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" 官方API\")])]),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"}),_c('el-menu-item',{attrs:{\"index\":\"1-1\",\"route\":{path:'/'}}},[_vm._v(\"Hello\")]),_c('el-menu-item',{attrs:{\"index\":\"1-2\",\"route\":{path:'/imagery'}}},[_vm._v(\"imageryProvider\")]),_c('el-menu-item',{attrs:{\"index\":\"1-3\",\"route\":{path:'/eapi'}}},[_vm._v(\"EntityAPI\")])],2),_c('el-submenu',{attrs:{\"index\":\"2\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"fa fa-internet-explorer\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" 综合案例\")])]),_c('el-menu-item-group',[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"Shader\")]),_c('el-menu-item',{attrs:{\"index\":\"2-1\",\"route\":{path:'/shaders'}}},[_vm._v(\"Shaders\")]),_c('el-menu-item',{attrs:{\"index\":\"2-2\",\"route\":{path:'/materials'}}},[_vm._v(\"Materials\")])],1)],2)],1)],1)]),_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('router-view')],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <el-row class=\"row-bg tac\">\n      <el-col :span=\"4\" class=\"menu-container\">\n        <div class=\"grid-content bg-purple\">\n          <div class=\"banner\">\n            <img src=\"images/cesium.png\" alt=\"cesium\">\n            Cesium 案例集\n          </div>\n\n          <el-menu\n            @open=\"handleOpen\"\n            @close=\"handleClose\"\n            @select=\"handleSelect\"\n            background-color=\"#545c64\"\n            text-color=\"#fff\"\n            active-text-color=\"#ffd04b\"\n            router\n          >\n            <el-submenu index=\"1\">\n              <template slot=\"title\">\n                <i class=\"fa fa-map\"></i>\n                <span slot=\"title\">&nbsp;官方API</span>\n              </template>\n              <!-- <el-menu-item-group> -->\n              <span slot=\"title\"></span>\n              <el-menu-item index=\"1-1\" :route=\"{path:'/'}\">Hello</el-menu-item>\n              <el-menu-item index=\"1-2\" :route=\"{path:'/imagery'}\">imageryProvider</el-menu-item>\n              <el-menu-item index=\"1-3\" :route=\"{path:'/eapi'}\">EntityAPI</el-menu-item>\n              <!-- </el-menu-item-group> -->\n            </el-submenu>\n            <el-submenu index=\"2\">\n              <template slot=\"title\">\n                <i class=\"fa fa-internet-explorer\"></i>\n                <span slot=\"title\">&nbsp;综合案例</span>\n              </template>\n              <el-menu-item-group>\n                <span slot=\"title\">Shader</span>\n                <el-menu-item index=\"2-1\" :route=\"{path:'/shaders'}\">Shaders</el-menu-item>\n                <el-menu-item index=\"2-2\" :route=\"{path:'/materials'}\">Materials</el-menu-item>\n                <!-- <el-menu-item\n                  index=\"2-3\"\n                  :route='{path:\"/heatmap\"}'\n                >Heatmap\n                </el-menu-item>-->\n              </el-menu-item-group>\n            </el-submenu>\n          </el-menu>\n        </div>\n      </el-col>\n      <el-col :span=\"20\">\n        <div class=\"grid-content bg-purple-light\">\n          <router-view/>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      isCollapse: false,\n      pullV: 0\n    };\n  },\n  methods: {\n    showHide() {\n      this.isCollapse = !this.isCollapse;\n      if (isCollapse) {\n        this.pullV = 2;\n      } else {\n        this.pullV = 0;\n      }\n    },\n    handleSelect(index, indexPath) {\n      console.log(index, indexPath);\n    },\n    handleOpen(key, keyPath) {\n      // console.log(key, keyPath);\n    },\n    handleClose(key, keyPath) {\n      // console.log(key, keyPath);\n    }\n  }\n};\n</script>\n\n<style lang='scss' scope>\nbody {\n  margin: 0;\n  padding: 0;\n}\n#app {\n  user-select: none;\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  .el-menu {\n    border-right: 0;\n  }\n  .menu-container {\n    background-color: #545c64;\n    color: #fff;\n    height: calc(100vh);\n  }\n  .banner {\n    display: flex;\n    line-height: 60px;\n    margin-left: 25px;\n    img {\n      width: 60px;\n      height: 60px;\n    }\n  }\n  .btn-box {\n    user-select: none;\n    position: absolute;\n    right: 10px;\n    z-index: 1;\n    display: flex;\n    background: #0c0c7566;\n    border-radius: 5px;\n    &-item {\n      cursor: pointer;\n      padding: 3px;\n      color: white;\n      &:hover,\n      &-selected {\n        color: aqua;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0e1c59cc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport HelloCesium from '@/views/hellocesium.vue'\n\nvar routes = [{\n  path: '/',\n  name: 'cesium',\n  component: HelloCesium\n}, {\n  path: '*',\n  redirect: '/',\n}]\nlet files = require.context('./views', false, /\\.vue$/)\n\nfiles.keys().forEach(key => {\n  let name = key.split('/').pop().split('.').shift();\n  if (name !== 'hellocesium') {\n\n\n    let component = files(key).default\n    let p = {\n      path: `/${name}`,\n      name,\n      component\n    }\n    routes.push(p);\n  }\n});\n\n// {\n//   path: '/cesium',\n//   name: 'cesium',\n//   // route level code-splitting\n//   // this generates a separate chunk (about.[hash].js) for this route\n//   // which is lazy-loaded when the route is visited.\n//   component: () => import( /* webpackChunkName: \"about\" */ './views/CesiumPage.vue')\n// }\n\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})","/*\n *  CesiumHeatmap.js v0.1 | Cesium Heatmap Library\n *  \n *  Works with heatmap.js v2.0.0: http://www.patrick-wied.at/static/heatmapjs/\n */\nimport Cesium from 'cesium/Cesium'\nimport '@/assets/libs/heatmap/heatmap.js'\n(function (window) {\n  'use strict';\n\n  function define_CesiumHeatmap() {\n    var CesiumHeatmap = {\n      defaults: {\n        useEntitiesIfAvailable: true, //whether to use entities if a Viewer is supplied or always use an ImageryProvider\n        minCanvasSize: 700, // minimum size (in pixels) for the heatmap canvas\n        maxCanvasSize: 2000, // maximum size (in pixels) for the heatmap canvas\n        radiusFactor: 60, // data point size factor used if no radius is given (the greater of height and width divided by this number yields the used radius)\n        spacingFactor: 1.5, // extra space around the borders (point radius multiplied by this number yields the spacing)\n        maxOpacity: 0.8, // the maximum opacity used if not given in the heatmap options object\n        minOpacity: 0.1, // the minimum opacity used if not given in the heatmap options object\n        blur: 0.85, // the blur used if not given in the heatmap options object\n        gradient: { // the gradient used if not given in the heatmap options object\n          '.3': 'blue',\n          '.65': 'yellow',\n          '.8': 'orange',\n          '.95': 'red'\n        },\n      }\n    };\n\n    /*  Create a CesiumHeatmap instance\n     *\n     *  cesium:  the CesiumWidget or Viewer instance\n     *  bb:      the WGS84 bounding box like {north, east, south, west}\n     *  options: a heatmap.js options object (see http://www.patrick-wied.at/static/heatmapjs/docs.html#h337-create)\n     */\n    CesiumHeatmap.create = function (cesium, bb, options) {\n      var instance = new CHInstance(cesium, bb, options);\n      return instance;\n    };\n\n    CesiumHeatmap._getContainer = function (width, height, id) {\n      var c = document.createElement(\"div\");\n      if (id) {\n        c.setAttribute(\"id\", id);\n      }\n      c.setAttribute(\"style\", \"width: \" + width + \"px; height: \" + height + \"px; margin: 0px; display: none;\");\n      document.body.appendChild(c);\n      return c;\n    };\n\n    CesiumHeatmap._getImageryProvider = function (instance) {\n      //var n = (new Date()).getTime();\n      var d = instance._heatmap.getDataURL();\n      //console.log(\"Create data URL: \" + ((new Date()).getTime() - n));\n\n      //var n = (new Date()).getTime();\n      var imgprov = new Cesium.SingleTileImageryProvider({\n        url: d,\n        rectangle: instance._rectangle\n      });\n      //console.log(\"Create imageryprovider: \" + ((new Date()).getTime() - n));\n\n      imgprov._tilingScheme = new Cesium.WebMercatorTilingScheme({\n        rectangleSouthwestInMeters: new Cesium.Cartesian2(instance._mbounds.west, instance._mbounds.south),\n        rectangleNortheastInMeters: new Cesium.Cartesian2(instance._mbounds.east, instance._mbounds.north)\n      });\n\n      return imgprov;\n    };\n\n    CesiumHeatmap._getID = function (len) {\n      var text = \"\";\n      var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n      for (var i = 0; i < ((len) ? len : 8); i++)\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n      return text;\n    };\n\n    var WMP = new Cesium.WebMercatorProjection();\n\n    /*  Convert a WGS84 location into a mercator location\n     *\n     *  p: the WGS84 location like {x: lon, y: lat}\n     */\n    CesiumHeatmap.wgs84ToMercator = function (p) {\n      var mp = WMP.project(Cesium.Cartographic.fromDegrees(p.x, p.y));\n      return {\n        x: mp.x,\n        y: mp.y\n      };\n    };\n\n    /*  Convert a WGS84 bounding box into a mercator bounding box\n     *\n     *  bb: the WGS84 bounding box like {north, east, south, west}\n     */\n    CesiumHeatmap.wgs84ToMercatorBB = function (bb) {\n      var sw = WMP.project(Cesium.Cartographic.fromDegrees(bb.west, bb.south));\n      var ne = WMP.project(Cesium.Cartographic.fromDegrees(bb.east, bb.north));\n      return {\n        north: ne.y,\n        east: ne.x,\n        south: sw.y,\n        west: sw.x\n      };\n    };\n\n    /*  Convert a mercator location into a WGS84 location\n     *\n     *  p: the mercator lcation like {x, y}\n     */\n    CesiumHeatmap.mercatorToWgs84 = function (p) {\n      var wp = WMP.unproject(new Cesium.Cartesian3(p.x, p.y));\n      return {\n        x: wp.longitude,\n        y: wp.latitude\n      };\n    };\n\n    /*  Convert a mercator bounding box into a WGS84 bounding box\n     *\n     *  bb: the mercator bounding box like {north, east, south, west}\n     */\n    CesiumHeatmap.mercatorToWgs84BB = function (bb) {\n      var sw = WMP.unproject(new Cesium.Cartesian3(bb.west, bb.south));\n      var ne = WMP.unproject(new Cesium.Cartesian3(bb.east, bb.north));\n      return {\n        north: this.rad2deg(ne.latitude),\n        east: this.rad2deg(ne.longitude),\n        south: this.rad2deg(sw.latitude),\n        west: this.rad2deg(sw.longitude)\n      };\n    };\n\n    /*  Convert degrees into radians\n     *\n     *  d: the degrees to be converted to radians\n     */\n    CesiumHeatmap.deg2rad = function (d) {\n      var r = d * (Math.PI / 180.0);\n      return r;\n    };\n\n    /*  Convert radians into degrees\n     *\n     *  r: the radians to be converted to degrees\n     */\n    CesiumHeatmap.rad2deg = function (r) {\n      var d = r / (Math.PI / 180.0);\n      return d;\n    };\n\n    return CesiumHeatmap;\n  }\n\n  if (typeof (CesiumHeatmap) === 'undefined') {\n    window.CesiumHeatmap = define_CesiumHeatmap();\n  } else {\n    console.log(\"CesiumHeatmap already defined.\");\n  }\n})(window);\n\n/*  Initiate a CesiumHeatmap instance\n *\n *  c:  CesiumWidget instance\n *  bb: a WGS84 bounding box like {north, east, south, west}\n *  o:  a heatmap.js options object (see http://www.patrick-wied.at/static/heatmapjs/docs.html#h337-create)\n */\nfunction CHInstance(c, bb, o) {\n  if (!bb) {\n    return null;\n  }\n  if (!o) {\n    o = {};\n  }\n\n  this._cesium = c;\n  this._options = o;\n  this._id = CesiumHeatmap._getID();\n\n  this._options.gradient = ((this._options.gradient) ? this._options.gradient : CesiumHeatmap.defaults.gradient);\n  this._options.maxOpacity = ((this._options.maxOpacity) ? this._options.maxOpacity : CesiumHeatmap.defaults.maxOpacity);\n  this._options.minOpacity = ((this._options.minOpacity) ? this._options.minOpacity : CesiumHeatmap.defaults.minOpacity);\n  this._options.blur = ((this._options.blur) ? this._options.blur : CesiumHeatmap.defaults.blur);\n\n  this._mbounds = CesiumHeatmap.wgs84ToMercatorBB(bb);\n  this._setWidthAndHeight(this._mbounds);\n\n  this._options.radius = Math.round((this._options.radius) ? this._options.radius : ((this.width > this.height) ? this.width / CesiumHeatmap.defaults.radiusFactor : this.height / CesiumHeatmap.defaults.radiusFactor));\n\n  this._spacing = this._options.radius * CesiumHeatmap.defaults.spacingFactor;\n  this._xoffset = this._mbounds.west;\n  this._yoffset = this._mbounds.south;\n\n  this.width = Math.round(this.width + this._spacing * 2);\n  this.height = Math.round(this.height + this._spacing * 2);\n\n  this._mbounds.west -= this._spacing * this._factor;\n  this._mbounds.east += this._spacing * this._factor;\n  this._mbounds.south -= this._spacing * this._factor;\n  this._mbounds.north += this._spacing * this._factor;\n\n  this.bounds = CesiumHeatmap.mercatorToWgs84BB(this._mbounds);\n\n  this._rectangle = Cesium.Rectangle.fromDegrees(this.bounds.west, this.bounds.south, this.bounds.east, this.bounds.north);\n  this._container = CesiumHeatmap._getContainer(this.width, this.height, this._id);\n  this._options.container = this._container;\n  this._heatmap = h337.create(this._options);\n  this._container.children[0].setAttribute(\"id\", this._id + \"-hm\");\n}\n\n/*  Convert a WGS84 location to the corresponding heatmap location\n *\n *  p: a WGS84 location like {x:lon, y:lat}\n */\nCHInstance.prototype.wgs84PointToHeatmapPoint = function (p) {\n  return this.mercatorPointToHeatmapPoint(CesiumHeatmap.wgs84ToMercator(p));\n};\n\n/*  Convert a mercator location to the corresponding heatmap location\n *\n *  p: a WGS84 location like {x: lon, y:lat}\n */\nCHInstance.prototype.mercatorPointToHeatmapPoint = function (p) {\n  var pn = {};\n\n  pn.x = Math.round((p.x - this._xoffset) / this._factor + this._spacing);\n  pn.y = Math.round((p.y - this._yoffset) / this._factor + this._spacing);\n  pn.y = this.height - pn.y;\n\n  return pn;\n};\n\nCHInstance.prototype._setWidthAndHeight = function (mbb) {\n  this.width = ((mbb.east > 0 && mbb.west < 0) ? mbb.east + Math.abs(mbb.west) : Math.abs(mbb.east - mbb.west));\n  this.height = ((mbb.north > 0 && mbb.south < 0) ? mbb.north + Math.abs(mbb.south) : Math.abs(mbb.north - mbb.south));\n  this._factor = 1;\n\n  if (this.width > this.height && this.width > CesiumHeatmap.defaults.maxCanvasSize) {\n    this._factor = this.width / CesiumHeatmap.defaults.maxCanvasSize;\n\n    if (this.height / this._factor < CesiumHeatmap.defaults.minCanvasSize) {\n      this._factor = this.height / CesiumHeatmap.defaults.minCanvasSize;\n    }\n  } else if (this.height > this.width && this.height > CesiumHeatmap.defaults.maxCanvasSize) {\n    this._factor = this.height / CesiumHeatmap.defaults.maxCanvasSize;\n\n    if (this.width / this._factor < CesiumHeatmap.defaults.minCanvasSize) {\n      this._factor = this.width / CesiumHeatmap.defaults.minCanvasSize;\n    }\n  } else if (this.width < this.height && this.width < CesiumHeatmap.defaults.minCanvasSize) {\n    this._factor = this.width / CesiumHeatmap.defaults.minCanvasSize;\n\n    if (this.height / this._factor > CesiumHeatmap.defaults.maxCanvasSize) {\n      this._factor = this.height / CesiumHeatmap.defaults.maxCanvasSize;\n    }\n  } else if (this.height < this.width && this.height < CesiumHeatmap.defaults.minCanvasSize) {\n    this._factor = this.height / CesiumHeatmap.defaults.minCanvasSize;\n\n    if (this.width / this._factor > CesiumHeatmap.defaults.maxCanvasSize) {\n      this._factor = this.width / CesiumHeatmap.defaults.maxCanvasSize;\n    }\n  }\n\n  this.width = this.width / this._factor;\n  this.height = this.height / this._factor;\n};\n\n/*  Set an array of heatmap locations\n *\n *  min:  the minimum allowed value for the data values\n *  max:  the maximum allowed value for the data values\n *  data: an array of data points in heatmap coordinates and values like {x, y, value}\n */\nCHInstance.prototype.setData = function (min, max, data) {\n  if (data && data.length > 0 && min !== null && min !== false && max !== null && max !== false) {\n    this._heatmap.setData({\n      min: min,\n      max: max,\n      data: data\n    });\n\n    this.updateLayer();\n    return true;\n  }\n\n  return false;\n};\n\n/*  Set an array of WGS84 locations\n *\n *  min:  the minimum allowed value for the data values\n *  max:  the maximum allowed value for the data values\n *  data: an array of data points in WGS84 coordinates and values like { x:lon, y:lat, value }\n */\nCHInstance.prototype.setWGS84Data = function (min, max, data) {\n  if (data && data.length > 0 && min !== null && min !== false && max !== null && max !== false) {\n    var convdata = [];\n\n    for (var i = 0; i < data.length; i++) {\n      var gp = data[i];\n\n      var hp = this.wgs84PointToHeatmapPoint(gp);\n      if (gp.value || gp.value === 0) {\n        hp.value = gp.value;\n      }\n\n      convdata.push(hp);\n    }\n\n    return this.setData(min, max, convdata);\n  }\n\n  return false;\n};\n\n/*  Set whether or not the heatmap is shown on the map\n *\n *  s: true means the heatmap is shown, false means the heatmap is hidden\n */\nCHInstance.prototype.show = function (s) {\n  if (this._layer) {\n    this._layer.show = s;\n  }\n};\n\n/*  Update/(re)draw the heatmap\n */\nCHInstance.prototype.updateLayer = function () {\n\n  // only works with a Viewer instance since the cesiumWidget\n  // instance doesn't contain an entities property\n  if (CesiumHeatmap.defaults.useEntitiesIfAvailable && this._cesium.entities) {\n    if (this._layer) {\n      this._cesium.entities.remove(this._layer);\n    }\n\n    // Work around issue with material rendering in Cesium\n    // provided by https://github.com/criis\n    var material = new Cesium.ImageMaterialProperty({\n      image: this._heatmap._renderer.canvas,\n    });\n    if (Cesium.VERSION >= \"1.21\") {\n      material.transparent = true;\n    } else if (Cesium.VERSION >= \"1.16\") {\n      material.alpha = 0.99;\n    }\n\n    this._layer = this._cesium.entities.add({\n      show: true,\n      rectangle: {\n        coordinates: this._rectangle,\n        material: material\n      }\n    });\n  } else {\n    if (this._layer) {\n      this._cesium.scene.imageryLayers.remove(this._layer);\n    }\n\n    this._layer = this._cesium.scene.imageryLayers.addImageryProvider(CesiumHeatmap._getImageryProvider(this));\n  }\n};","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\n//引入 cesium\nimport Cesium from 'cesium/Cesium'\nimport widget from 'cesium/Widgets/widgets.css'\n\nVue.Cesium = Vue.prototype.$Cesium = Cesium;\n\n// ElementUI\nimport 'element-ui/lib/theme-chalk/index.css';\nimport ElementUI from \"element-ui\";\nVue.use(ElementUI);\n\nimport '../public/css/font-awesome-4.7.0/css/font-awesome.min.css'\n\nimport _ from 'lodash'\n\nVue._ = Vue.prototype._ = _;\n\nimport \"@/assets/libs/heatmap/CesiumHeatmap.js\"\n\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('btn',{staticClass:\"btn-box\"},[_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curName=='rain'},on:{\"click\":function($event){return _vm.getEntity('rain')}}},[_vm._v(\"Rain\")]),_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curName=='snow'},on:{\"click\":function($event){return _vm.getEntity('snow')}}},[_vm._v(\"Snow\")])]),_c('base-cesium',{attrs:{\"imgurl\":_vm.imgurl},on:{\"getViewer\":_vm.getViewer}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <btn class=\"btn-box\">\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curName=='rain'}\"\n        @click=\"getEntity('rain')\"\n      >Rain</div>\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curName=='snow'}\"\n        @click=\"getEntity('snow')\"\n      >Snow</div>\n    </btn>\n    <base-cesium @getViewer=\"getViewer\" :imgurl=\"imgurl\"></base-cesium>\n  </div>\n</template>\n\n<script>\nimport Cesium from \"cesium/Cesium\";\nimport BaseCesium from \"../components/BaseCesium\";\nimport { lxzx3, lxzx2 } from \"@/assets/data/graphics.js\";\nimport { gcj02towgs84 } from \"@/utils/transfer.js\";\nexport default {\n  components: {\n    BaseCesium\n  },\n  data() {\n    return {\n      viewer: null,\n      curName: null,\n      oldMouseOverPick: null,\n      silhouetteBlue: null,\n      silhouetteGreen: null,\n      nameOverlay: null,\n      imgurl: \"\" //\"/images/world.jpg\"\n    };\n  },\n\n  mounted() {},\n  methods: {\n    getViewer(v) {\n      this.viewer = v;\n      this.addNameOverLay();\n      this.addShaderStage();\n      this.rejectPickerEvent();\n      this.addEntity();\n      this.addPrimitives();\n    },\n    getEntity(n) {},\n    addEntity() {\n      var graphic = this.getLXZX3();\n      var wyoming = this.viewer.entities.add({\n        id: \"lxzx3\",\n        name: \"理想中心三栋\",\n        polygon: {\n          hierarchy: Cesium.Cartesian3.fromDegreesArray(graphic),\n          height: 0, //离地高度\n          extrudedHeight: 100, //物体高度\n          material: Cesium.Color.RED.withAlpha(0.5),\n          outline: true,\n          outlineColor: Cesium.Color.BLACK\n        },\n        description: `这里是成都市高新区理想中心3栋`\n      });\n      this.viewer.zoomTo(wyoming);\n    },\n    addPrimitives() {\n      var graphic = this.getLXZX2();\n      var polygonInstance = new Cesium.GeometryInstance({\n        geometry: new Cesium.PolygonGeometry({\n          extrudedHeight: 100,\n          polygonHierarchy: new Cesium.PolygonHierarchy(\n            Cesium.Cartesian3.fromDegreesArray(graphic)\n          ),\n          vertexFormat: Cesium.PerInstanceColorAppearance.VERTEX_FORMAT\n        }),\n        id: \"理想中心二栋\",\n        attributes: {\n          color: new Cesium.ColorGeometryInstanceAttribute(0.0, 1.0, 1.0, 0.5)\n        }\n      });\n      this.viewer.scene.primitives.add(\n        new Cesium.Primitive({\n          geometryInstances: [polygonInstance],\n          appearance: new Cesium.PerInstanceColorAppearance()\n        })\n      );\n    },\n    rejectPickerEvent() {\n      let vm = this;\n      var handler = new Cesium.ScreenSpaceEventHandler(vm.viewer.scene.canvas);\n      handler.setInputAction(movement => {\n        var pick = vm.viewer.scene.pick(movement.position);\n        if (Cesium.defined(pick)) {\n          vm.pikcedEntity(pick);\n        }\n      }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n      handler.setInputAction(movement => {\n        var pickedFeature = vm.viewer.scene.pick(movement.endPosition);\n\n        if (!Cesium.defined(pickedFeature)) {\n          this.hideNameOverLay();\n          this.silhouetteBlue.selected = [];\n          return;\n        }\n        var name = \"\";\n        if (typeof pickedFeature.id == \"string\") {\n          name = pickedFeature.id;\n        } else {\n          name = pickedFeature.id.name;\n          if (!Cesium.defined(name)) {\n            name = pickedFeature.id.id;\n          }\n        }\n        vm.showNameOverLay(name, movement.endPosition);\n\n        // vm.highlightEntity(pickedFeature);\n      }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    },\n    pikcedEntity(pick) {\n      if (typeof pick.id == \"string\") {\n        pick.primitive.material = Cesium.Color.GREEN.withAlpha(0.5);\n      } else {\n        pick.id.polygon.material = Cesium.Color.GREEN.withAlpha(0.5);\n        pick.id.polygon.outlineColor = Cesium.Color.RED;\n      }\n    },\n    highlightEntity(pickedFeature) {\n      let vm = this;\n      this.silhouetteBlue.selected = [pickedFeature];\n    },\n    addShaderStage() {\n      //mouseover\n      this.silhouetteBlue = Cesium.PostProcessStageLibrary.createEdgeDetectionStage();\n      this.silhouetteBlue.uniforms.color = Cesium.Color.BLUE;\n      this.silhouetteBlue.uniforms.length = 0.01;\n      this.silhouetteBlue.selected = [];\n      //mouse click\n      this.silhouetteGreen = Cesium.PostProcessStageLibrary.createEdgeDetectionStage();\n      this.silhouetteGreen.uniforms.color = Cesium.Color.LIME;\n      this.silhouetteGreen.uniforms.length = 0.01;\n      this.silhouetteGreen.selected = [];\n\n      this.viewer.scene.postProcessStages.add(\n        Cesium.PostProcessStageLibrary.createSilhouetteStage([\n          this.silhouetteBlue,\n          this.silhouetteGreen\n        ])\n      );\n    },\n    addNameOverLay() {\n      this.nameOverlay = document.createElement(\"div\");\n      this.viewer.container.appendChild(this.nameOverlay);\n      this.nameOverlay.className = \"backdrop\";\n      this.nameOverlay.style.display = \"none\";\n      this.nameOverlay.style.position = \"absolute\";\n      this.nameOverlay.style.bottom = \"0\";\n      this.nameOverlay.style.left = \"0\";\n      this.nameOverlay.style[\"pointer-events\"] = \"none\";\n      this.nameOverlay.style.padding = \"4px\";\n      this.nameOverlay.style.backgroundColor = \"black\";\n    },\n    hideNameOverLay() {\n      this.nameOverlay.style.display = \"none\";\n    },\n    showNameOverLay(content, point) {\n      this.nameOverlay.style.display = \"block\";\n      this.nameOverlay.style.bottom =\n        this.viewer.canvas.clientHeight - point.y + \"px\";\n      this.nameOverlay.style.left = point.x + 200 + \"px\";\n      this.nameOverlay.textContent = content;\n    },\n    transferToWGS84(data) {\n      var newdata = [];\n      _.forEach(data, item => {\n        newdata.push(gcj02towgs84(item[0], item[1]));\n      });\n      return _.flatten(newdata);\n    },\n    getLXZX3() {\n      return this.transferToWGS84(lxzx3);\n    },\n    getLXZX2() {\n      return this.transferToWGS84(lxzx2);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang='scss' scoped>\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./eapi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./eapi.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./eapi.vue?vue&type=template&id=2e620868&scoped=true&\"\nimport script from \"./eapi.vue?vue&type=script&lang=js&\"\nexport * from \"./eapi.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e620868\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cesiumContainer\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"cesiumContainer\"></div>\n</template>\n\n<script>\nimport Cesium from \"cesium/Cesium\";\nexport default {\n  name: \"BaseCesium\",\n  props: [\"imgurl\"],\n  data() {\n    return {\n      viewer: null\n    };\n  },\n  provide() {\n    return {\n      getViewer: this.getViewer\n    };\n  },\n  mounted() {\n    //设置默认 home\n    var china = Cesium.Rectangle.fromDegrees(100, 10, 120, 70);\n    Cesium.Camera.DEFAULT_VIEW_RECTANGLE = china;\n\n    let initOption = {\n      animation: false, //是否创建动画小器件，左下角仪表\n      baseLayerPicker: false, //是否显示图层选择器\n      fullscreenButton: false, //是否显示全屏按钮\n      geocoder: false, //是否显示geocoder小器件，右上角查询按钮\n      homeButton: false, //是否显示Home按钮\n      infoBox: false, //是否显示信息框\n      sceneModePicker: false, //是否显示3D/2D选择器\n      selectionIndicator: false, //是否显示选取指示器组件\n      timeline: false, //是否显示时间轴\n      sceneMode: Cesium.SceneMode.SCENE3D, //设定3维地图的默认场景模式:Cesium.SceneMode.SCENE2D、Cesium.SceneMode.SCENE3D、Cesium.SceneMode.MORPHING\n      navigationHelpButton: false, //是否显示右上角的帮助按钮\n      scene3DOnly: true, //如果设置为true，则所有几何图形以3D模式绘制以节约GPU资源\n      navigationInstructionsInitiallyVisible: false,\n      showRenderLoopErrors: false\n    };\n\n    if (this.imgurl) {\n      initOption[\"imageryProvider\"] = new Cesium.SingleTileImageryProvider({\n        url: this.imgurl\n      });\n    }\n\n    this.viewer = new Cesium.Viewer(\"cesiumContainer\", initOption);\n    //去除版权信息\n    this.viewer._cesiumWidget._creditContainer.style.display = \"none\";\n    this.$emit(\"getViewer\", this.viewer);\n    this.addLogo();\n  },\n  methods: {\n    getViewer(found) {\n      var vm = this;\n      function checkForMap() {\n        if (vm.viewer) {\n          found(vm.viewer);\n        } else {\n          setTimeout(checkForMap, 100);\n        }\n      }\n      checkForMap();\n    },\n    addLogo() {\n      var mapDom = document.getElementById(\"cesiumContainer\");\n      console.log(mapDom.clientWidth, mapDom.clientHeight);\n      var viewportQuad = new Cesium.ViewportQuad();\n      viewportQuad.rectangle = new Cesium.BoundingRectangle(\n        mapDom.clientWidth - 85,\n        5,\n        80,\n        80\n      );\n      this.viewer.scene.primitives.add(viewportQuad);\n\n      viewportQuad.material = new Cesium.Material({\n        fabric: {\n          type: \"Image\",\n          uniforms: {\n            color: new Cesium.Color(1.0, 1.0, 1.0, 1.0),\n            image: \"images/qr.jpg\"\n          }\n        }\n      });\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#cesiumContainer {\n  width: auto;\n  height: calc(100vh);\n}\n.cesium-widget-credits {\n  display: none !important;\n  visibility: hide !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseCesium.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseCesium.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseCesium.vue?vue&type=template&id=ed5e1c7c&scoped=true&\"\nimport script from \"./BaseCesium.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseCesium.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseCesium.vue?vue&type=style&index=0&id=ed5e1c7c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ed5e1c7c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&scope=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseCesium.vue?vue&type=style&index=0&id=ed5e1c7c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseCesium.vue?vue&type=style&index=0&id=ed5e1c7c&scoped=true&lang=css&\"","/*\n * heatmap.js v2.0.5 | JavaScript Heatmap Library\n *\n * Copyright 2008-2016 Patrick Wied <heatmapjs@patrick-wied.at> - All rights reserved.\n * Dual licensed under MIT and Beerware license \n *\n * :: 2016-09-05 01:16\n */\n;\n(function (name, context, factory) {\n\n  // Supports UMD. AMD, CommonJS/Node.js and browser context\n  if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else {\n    context[name] = factory();\n  }\n\n})(\"h337\", window, function () {\n\n  // Heatmap Config stores default values and will be merged with instance config\n  var HeatmapConfig = {\n    defaultRadius: 40,\n    defaultRenderer: 'canvas2d',\n    defaultGradient: {\n      0.25: \"rgb(0,0,255)\",\n      0.55: \"rgb(0,255,0)\",\n      0.85: \"yellow\",\n      1.0: \"rgb(255,0,0)\"\n    },\n    defaultMaxOpacity: 1,\n    defaultMinOpacity: 0,\n    defaultBlur: .85,\n    defaultXField: 'x',\n    defaultYField: 'y',\n    defaultValueField: 'value',\n    plugins: {}\n  };\n  var Store = (function StoreClosure() {\n\n    var Store = function Store(config) {\n      this._coordinator = {};\n      this._data = [];\n      this._radi = [];\n      this._min = 10;\n      this._max = 1;\n      this._xField = config['xField'] || config.defaultXField;\n      this._yField = config['yField'] || config.defaultYField;\n      this._valueField = config['valueField'] || config.defaultValueField;\n\n      if (config[\"radius\"]) {\n        this._cfgRadius = config[\"radius\"];\n      }\n    };\n\n    var defaultRadius = HeatmapConfig.defaultRadius;\n\n    Store.prototype = {\n      // when forceRender = false -> called from setData, omits renderall event\n      _organiseData: function (dataPoint, forceRender) {\n        var x = dataPoint[this._xField];\n        var y = dataPoint[this._yField];\n        var radi = this._radi;\n        var store = this._data;\n        var max = this._max;\n        var min = this._min;\n        var value = dataPoint[this._valueField] || 1;\n        var radius = dataPoint.radius || this._cfgRadius || defaultRadius;\n\n        if (!store[x]) {\n          store[x] = [];\n          radi[x] = [];\n        }\n\n        if (!store[x][y]) {\n          store[x][y] = value;\n          radi[x][y] = radius;\n        } else {\n          store[x][y] += value;\n        }\n        var storedVal = store[x][y];\n\n        if (storedVal > max) {\n          if (!forceRender) {\n            this._max = storedVal;\n          } else {\n            this.setDataMax(storedVal);\n          }\n          return false;\n        } else if (storedVal < min) {\n          if (!forceRender) {\n            this._min = storedVal;\n          } else {\n            this.setDataMin(storedVal);\n          }\n          return false;\n        } else {\n          return {\n            x: x,\n            y: y,\n            value: value,\n            radius: radius,\n            min: min,\n            max: max\n          };\n        }\n      },\n      _unOrganizeData: function () {\n        var unorganizedData = [];\n        var data = this._data;\n        var radi = this._radi;\n\n        for (var x in data) {\n          for (var y in data[x]) {\n\n            unorganizedData.push({\n              x: x,\n              y: y,\n              radius: radi[x][y],\n              value: data[x][y]\n            });\n\n          }\n        }\n        return {\n          min: this._min,\n          max: this._max,\n          data: unorganizedData\n        };\n      },\n      _onExtremaChange: function () {\n        this._coordinator.emit('extremachange', {\n          min: this._min,\n          max: this._max\n        });\n      },\n      addData: function () {\n        if (arguments[0].length > 0) {\n          var dataArr = arguments[0];\n          var dataLen = dataArr.length;\n          while (dataLen--) {\n            this.addData.call(this, dataArr[dataLen]);\n          }\n        } else {\n          // add to store  \n          var organisedEntry = this._organiseData(arguments[0], true);\n          if (organisedEntry) {\n            // if it's the first datapoint initialize the extremas with it\n            if (this._data.length === 0) {\n              this._min = this._max = organisedEntry.value;\n            }\n            this._coordinator.emit('renderpartial', {\n              min: this._min,\n              max: this._max,\n              data: [organisedEntry]\n            });\n          }\n        }\n        return this;\n      },\n      setData: function (data) {\n        var dataPoints = data.data;\n        var pointsLen = dataPoints.length;\n\n\n        // reset data arrays\n        this._data = [];\n        this._radi = [];\n\n        for (var i = 0; i < pointsLen; i++) {\n          this._organiseData(dataPoints[i], false);\n        }\n        this._max = data.max;\n        this._min = data.min || 0;\n\n        this._onExtremaChange();\n        this._coordinator.emit('renderall', this._getInternalData());\n        return this;\n      },\n      removeData: function () {\n        // TODO: implement\n      },\n      setDataMax: function (max) {\n        this._max = max;\n        this._onExtremaChange();\n        this._coordinator.emit('renderall', this._getInternalData());\n        return this;\n      },\n      setDataMin: function (min) {\n        this._min = min;\n        this._onExtremaChange();\n        this._coordinator.emit('renderall', this._getInternalData());\n        return this;\n      },\n      setCoordinator: function (coordinator) {\n        this._coordinator = coordinator;\n      },\n      _getInternalData: function () {\n        return {\n          max: this._max,\n          min: this._min,\n          data: this._data,\n          radi: this._radi\n        };\n      },\n      getData: function () {\n        return this._unOrganizeData();\n      }\n      /*,\n            TODO: rethink.\n          getValueAt: function(point) {\n            var value;\n            var radius = 100;\n            var x = point.x;\n            var y = point.y;\n            var data = this._data;\n            if (data[x] && data[x][y]) {\n              return data[x][y];\n            } else {\n              var values = [];\n              // radial search for datapoints based on default radius\n              for(var distance = 1; distance < radius; distance++) {\n                var neighbors = distance * 2 +1;\n                var startX = x - distance;\n                var startY = y - distance;\n                for(var i = 0; i < neighbors; i++) {\n                  for (var o = 0; o < neighbors; o++) {\n                    if ((i == 0 || i == neighbors-1) || (o == 0 || o == neighbors-1)) {\n                      if (data[startY+i] && data[startY+i][startX+o]) {\n                        values.push(data[startY+i][startX+o]);\n                      }\n                    } else {\n                      continue;\n                    } \n                  }\n                }\n              }\n              if (values.length > 0) {\n                return Math.max.apply(Math, values);\n              }\n            }\n            return false;\n          }*/\n    };\n\n\n    return Store;\n  })();\n\n  var Canvas2dRenderer = (function Canvas2dRendererClosure() {\n\n    var _getColorPalette = function (config) {\n      var gradientConfig = config.gradient || config.defaultGradient;\n      var paletteCanvas = document.createElement('canvas');\n      var paletteCtx = paletteCanvas.getContext('2d');\n\n      paletteCanvas.width = 256;\n      paletteCanvas.height = 1;\n\n      var gradient = paletteCtx.createLinearGradient(0, 0, 256, 1);\n      for (var key in gradientConfig) {\n        gradient.addColorStop(key, gradientConfig[key]);\n      }\n\n      paletteCtx.fillStyle = gradient;\n      paletteCtx.fillRect(0, 0, 256, 1);\n\n      return paletteCtx.getImageData(0, 0, 256, 1).data;\n    };\n\n    var _getPointTemplate = function (radius, blurFactor) {\n      var tplCanvas = document.createElement('canvas');\n      var tplCtx = tplCanvas.getContext('2d');\n      var x = radius;\n      var y = radius;\n      tplCanvas.width = tplCanvas.height = radius * 2;\n\n      if (blurFactor == 1) {\n        tplCtx.beginPath();\n        tplCtx.arc(x, y, radius, 0, 2 * Math.PI, false);\n        tplCtx.fillStyle = 'rgba(0,0,0,1)';\n        tplCtx.fill();\n      } else {\n        var gradient = tplCtx.createRadialGradient(x, y, radius * blurFactor, x, y, radius);\n        gradient.addColorStop(0, 'rgba(0,0,0,1)');\n        gradient.addColorStop(1, 'rgba(0,0,0,0)');\n        tplCtx.fillStyle = gradient;\n        tplCtx.fillRect(0, 0, 2 * radius, 2 * radius);\n      }\n\n\n\n      return tplCanvas;\n    };\n\n    var _prepareData = function (data) {\n      var renderData = [];\n      var min = data.min;\n      var max = data.max;\n      var radi = data.radi;\n      var data = data.data;\n\n      var xValues = Object.keys(data);\n      var xValuesLen = xValues.length;\n\n      while (xValuesLen--) {\n        var xValue = xValues[xValuesLen];\n        var yValues = Object.keys(data[xValue]);\n        var yValuesLen = yValues.length;\n        while (yValuesLen--) {\n          var yValue = yValues[yValuesLen];\n          var value = data[xValue][yValue];\n          var radius = radi[xValue][yValue];\n          renderData.push({\n            x: xValue,\n            y: yValue,\n            value: value,\n            radius: radius\n          });\n        }\n      }\n\n      return {\n        min: min,\n        max: max,\n        data: renderData\n      };\n    };\n\n\n    function Canvas2dRenderer(config) {\n      var container = config.container;\n      var shadowCanvas = this.shadowCanvas = document.createElement('canvas');\n      var canvas = this.canvas = config.canvas || document.createElement('canvas');\n      var renderBoundaries = this._renderBoundaries = [10000, 10000, 0, 0];\n\n      var computed = getComputedStyle(config.container) || {};\n\n      canvas.className = 'heatmap-canvas';\n\n      this._width = canvas.width = shadowCanvas.width = config.width || +(computed.width.replace(/px/, ''));\n      this._height = canvas.height = shadowCanvas.height = config.height || +(computed.height.replace(/px/, ''));\n\n      this.shadowCtx = shadowCanvas.getContext('2d');\n      this.ctx = canvas.getContext('2d');\n\n      // @TODO:\n      // conditional wrapper\n\n      canvas.style.cssText = shadowCanvas.style.cssText = 'position:absolute;left:0;top:0;';\n\n      container.style.position = 'relative';\n      container.appendChild(canvas);\n\n      this._palette = _getColorPalette(config);\n      this._templates = {};\n\n      this._setStyles(config);\n    };\n\n    Canvas2dRenderer.prototype = {\n      renderPartial: function (data) {\n        if (data.data.length > 0) {\n          this._drawAlpha(data);\n          this._colorize();\n        }\n      },\n      renderAll: function (data) {\n        // reset render boundaries\n        this._clear();\n        if (data.data.length > 0) {\n          this._drawAlpha(_prepareData(data));\n          this._colorize();\n        }\n      },\n      _updateGradient: function (config) {\n        this._palette = _getColorPalette(config);\n      },\n      updateConfig: function (config) {\n        if (config['gradient']) {\n          this._updateGradient(config);\n        }\n        this._setStyles(config);\n      },\n      setDimensions: function (width, height) {\n        this._width = width;\n        this._height = height;\n        this.canvas.width = this.shadowCanvas.width = width;\n        this.canvas.height = this.shadowCanvas.height = height;\n      },\n      _clear: function () {\n        this.shadowCtx.clearRect(0, 0, this._width, this._height);\n        this.ctx.clearRect(0, 0, this._width, this._height);\n      },\n      _setStyles: function (config) {\n        this._blur = (config.blur == 0) ? 0 : (config.blur || config.defaultBlur);\n\n        if (config.backgroundColor) {\n          this.canvas.style.backgroundColor = config.backgroundColor;\n        }\n\n        this._width = this.canvas.width = this.shadowCanvas.width = config.width || this._width;\n        this._height = this.canvas.height = this.shadowCanvas.height = config.height || this._height;\n\n\n        this._opacity = (config.opacity || 0) * 255;\n        this._maxOpacity = (config.maxOpacity || config.defaultMaxOpacity) * 255;\n        this._minOpacity = (config.minOpacity || config.defaultMinOpacity) * 255;\n        this._useGradientOpacity = !!config.useGradientOpacity;\n      },\n      _drawAlpha: function (data) {\n        var min = this._min = data.min;\n        var max = this._max = data.max;\n        var data = data.data || [];\n        var dataLen = data.length;\n        // on a point basis?\n        var blur = 1 - this._blur;\n\n        while (dataLen--) {\n\n          var point = data[dataLen];\n\n          var x = point.x;\n          var y = point.y;\n          var radius = point.radius;\n          // if value is bigger than max\n          // use max as value\n          var value = Math.min(point.value, max);\n          var rectX = x - radius;\n          var rectY = y - radius;\n          var shadowCtx = this.shadowCtx;\n\n\n\n\n          var tpl;\n          if (!this._templates[radius]) {\n            this._templates[radius] = tpl = _getPointTemplate(radius, blur);\n          } else {\n            tpl = this._templates[radius];\n          }\n          // value from minimum / value range\n          // => [0, 1]\n          var templateAlpha = (value - min) / (max - min);\n          // this fixes #176: small values are not visible because globalAlpha < .01 cannot be read from imageData\n          shadowCtx.globalAlpha = templateAlpha < .01 ? .01 : templateAlpha;\n\n          shadowCtx.drawImage(tpl, rectX, rectY);\n\n          // update renderBoundaries\n          if (rectX < this._renderBoundaries[0]) {\n            this._renderBoundaries[0] = rectX;\n          }\n          if (rectY < this._renderBoundaries[1]) {\n            this._renderBoundaries[1] = rectY;\n          }\n          if (rectX + 2 * radius > this._renderBoundaries[2]) {\n            this._renderBoundaries[2] = rectX + 2 * radius;\n          }\n          if (rectY + 2 * radius > this._renderBoundaries[3]) {\n            this._renderBoundaries[3] = rectY + 2 * radius;\n          }\n\n        }\n      },\n      _colorize: function () {\n        var x = this._renderBoundaries[0];\n        var y = this._renderBoundaries[1];\n        var width = this._renderBoundaries[2] - x;\n        var height = this._renderBoundaries[3] - y;\n        var maxWidth = this._width;\n        var maxHeight = this._height;\n        var opacity = this._opacity;\n        var maxOpacity = this._maxOpacity;\n        var minOpacity = this._minOpacity;\n        var useGradientOpacity = this._useGradientOpacity;\n\n        if (x < 0) {\n          x = 0;\n        }\n        if (y < 0) {\n          y = 0;\n        }\n        if (x + width > maxWidth) {\n          width = maxWidth - x;\n        }\n        if (y + height > maxHeight) {\n          height = maxHeight - y;\n        }\n\n        var img = this.shadowCtx.getImageData(x, y, width, height);\n        var imgData = img.data;\n        var len = imgData.length;\n        var palette = this._palette;\n\n\n        for (var i = 3; i < len; i += 4) {\n          var alpha = imgData[i];\n          var offset = alpha * 4;\n\n\n          if (!offset) {\n            continue;\n          }\n\n          var finalAlpha;\n          if (opacity > 0) {\n            finalAlpha = opacity;\n          } else {\n            if (alpha < maxOpacity) {\n              if (alpha < minOpacity) {\n                finalAlpha = minOpacity;\n              } else {\n                finalAlpha = alpha;\n              }\n            } else {\n              finalAlpha = maxOpacity;\n            }\n          }\n\n          imgData[i - 3] = palette[offset];\n          imgData[i - 2] = palette[offset + 1];\n          imgData[i - 1] = palette[offset + 2];\n          imgData[i] = useGradientOpacity ? palette[offset + 3] : finalAlpha;\n\n        }\n\n        img.data = imgData;\n        this.ctx.putImageData(img, x, y);\n\n        this._renderBoundaries = [1000, 1000, 0, 0];\n\n      },\n      getValueAt: function (point) {\n        var value;\n        var shadowCtx = this.shadowCtx;\n        var img = shadowCtx.getImageData(point.x, point.y, 1, 1);\n        var data = img.data[3];\n        var max = this._max;\n        var min = this._min;\n\n        value = (Math.abs(max - min) * (data / 255)) >> 0;\n\n        return value;\n      },\n      getDataURL: function () {\n        return this.canvas.toDataURL();\n      }\n    };\n\n\n    return Canvas2dRenderer;\n  })();\n\n\n  var Renderer = (function RendererClosure() {\n\n    var rendererFn = false;\n\n    if (HeatmapConfig['defaultRenderer'] === 'canvas2d') {\n      rendererFn = Canvas2dRenderer;\n    }\n\n    return rendererFn;\n  })();\n\n\n  var Util = {\n    merge: function () {\n      var merged = {};\n      var argsLen = arguments.length;\n      for (var i = 0; i < argsLen; i++) {\n        var obj = arguments[i]\n        for (var key in obj) {\n          merged[key] = obj[key];\n        }\n      }\n      return merged;\n    }\n  };\n  // Heatmap Constructor\n  var Heatmap = (function HeatmapClosure() {\n\n    var Coordinator = (function CoordinatorClosure() {\n\n      function Coordinator() {\n        this.cStore = {};\n      };\n\n      Coordinator.prototype = {\n        on: function (evtName, callback, scope) {\n          var cStore = this.cStore;\n\n          if (!cStore[evtName]) {\n            cStore[evtName] = [];\n          }\n          cStore[evtName].push((function (data) {\n            return callback.call(scope, data);\n          }));\n        },\n        emit: function (evtName, data) {\n          var cStore = this.cStore;\n          if (cStore[evtName]) {\n            var len = cStore[evtName].length;\n            for (var i = 0; i < len; i++) {\n              var callback = cStore[evtName][i];\n              callback(data);\n            }\n          }\n        }\n      };\n\n      return Coordinator;\n    })();\n\n\n    var _connect = function (scope) {\n      var renderer = scope._renderer;\n      var coordinator = scope._coordinator;\n      var store = scope._store;\n\n      coordinator.on('renderpartial', renderer.renderPartial, renderer);\n      coordinator.on('renderall', renderer.renderAll, renderer);\n      coordinator.on('extremachange', function (data) {\n        scope._config.onExtremaChange &&\n          scope._config.onExtremaChange({\n            min: data.min,\n            max: data.max,\n            gradient: scope._config['gradient'] || scope._config['defaultGradient']\n          });\n      });\n      store.setCoordinator(coordinator);\n    };\n\n\n    function Heatmap() {\n      var config = this._config = Util.merge(HeatmapConfig, arguments[0] || {});\n      this._coordinator = new Coordinator();\n      if (config['plugin']) {\n        var pluginToLoad = config['plugin'];\n        if (!HeatmapConfig.plugins[pluginToLoad]) {\n          throw new Error('Plugin \\'' + pluginToLoad + '\\' not found. Maybe it was not registered.');\n        } else {\n          var plugin = HeatmapConfig.plugins[pluginToLoad];\n          // set plugin renderer and store\n          this._renderer = new plugin.renderer(config);\n          this._store = new plugin.store(config);\n        }\n      } else {\n        this._renderer = new Renderer(config);\n        this._store = new Store(config);\n      }\n      _connect(this);\n    };\n\n    // @TODO:\n    // add API documentation\n    Heatmap.prototype = {\n      addData: function () {\n        this._store.addData.apply(this._store, arguments);\n        return this;\n      },\n      removeData: function () {\n        this._store.removeData && this._store.removeData.apply(this._store, arguments);\n        return this;\n      },\n      setData: function () {\n        this._store.setData.apply(this._store, arguments);\n        return this;\n      },\n      setDataMax: function () {\n        this._store.setDataMax.apply(this._store, arguments);\n        return this;\n      },\n      setDataMin: function () {\n        this._store.setDataMin.apply(this._store, arguments);\n        return this;\n      },\n      configure: function (config) {\n        this._config = Util.merge(this._config, config);\n        this._renderer.updateConfig(this._config);\n        this._coordinator.emit('renderall', this._store._getInternalData());\n        return this;\n      },\n      repaint: function () {\n        this._coordinator.emit('renderall', this._store._getInternalData());\n        return this;\n      },\n      getData: function () {\n        return this._store.getData();\n      },\n      getDataURL: function () {\n        return this._renderer.getDataURL();\n      },\n      getValueAt: function (point) {\n\n        if (this._store.getValueAt) {\n          return this._store.getValueAt(point);\n        } else if (this._renderer.getValueAt) {\n          return this._renderer.getValueAt(point);\n        } else {\n          return null;\n        }\n      }\n    };\n\n    return Heatmap;\n\n  })();\n\n\n  // core\n  var heatmapFactory = {\n    create: function (config) {\n      return new Heatmap(config);\n    },\n    register: function (pluginKey, plugin) {\n      HeatmapConfig.plugins[pluginKey] = plugin;\n    }\n  };\n\n  return heatmapFactory;\n\n\n});","/**理想中心三栋 */\nexport const lxzx3 = [\n  [104.062994,\n    30.595779\n  ],\n  [104.063305,\n    30.59577\n  ],\n  [104.063321,\n    30.59552\n  ],\n  [104.063428,\n    30.59552\n  ],\n  [104.063434,\n    30.595377\n  ],\n  [104.063015,\n    30.595363\n  ],\n  [104.062999,\n    30.595774\n  ],\n  [104.062994,\n    30.595779\n  ]\n]\nexport const lxzx2 = [\n  [104.06249, 30.595659],\n  [104.062758, 30.595765],\n  [104.062736, 30.595456],\n  [104.06265, 30.595359],\n  [104.062366, 30.595368],\n  [104.062361, 30.595589],\n  [104.062495, 30.595576],\n  [104.06249, 30.595659]\n]","var map = {\n\t\"./eapi.vue\": \"8d30\",\n\t\"./heatmap.vue\": \"4957\",\n\t\"./hellocesium.vue\": \"4a69\",\n\t\"./imagery.vue\": \"065d\",\n\t\"./materials.vue\": \"f2e3\",\n\t\"./shaders.vue\": \"4f2e\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"e1b5\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('btn',{staticClass:\"btn-box\"},[_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curName=='video'},on:{\"click\":function($event){return _vm.getEntity('video')}}},[_vm._v(\"Video\")]),_c('div',{staticClass:\"btn-box-item\",class:{'btn-box-item-selected':_vm.curName=='canvas'},on:{\"click\":function($event){return _vm.getEntity('canvas')}}},[_vm._v(\"Canvas\")])]),_c('base-cesium',{attrs:{\"imgurl\":_vm.imgurl},on:{\"getViewer\":_vm.getViewer}}),_c('video',{attrs:{\"id\":\"trailer\",\"muted\":\"\",\"autoplay\":\"\",\"loop\":\"\",\"crossorigin\":\"\",\"controls\":\"\"},domProps:{\"muted\":true}},[_c('source',{attrs:{\"src\":\"video/big-buck-bunny_trailer.webm\",\"type\":\"video/webm\"}}),_c('source',{attrs:{\"src\":\"video/big-buck-bunny_trailer.mp4\",\"type\":\"video/mp4\"}}),_c('source',{attrs:{\"src\":\"video/big-buck-bunny_trailer.mov\",\"type\":\"video/quicktime\"}}),_vm._v(\"Your browser does not support the\\n    \"),_c('code',[_vm._v(\"video\")]),_vm._v(\" element.\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <btn class=\"btn-box\">\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curName=='video'}\"\n        @click=\"getEntity('video')\"\n      >Video</div>\n      <div\n        class=\"btn-box-item\"\n        :class=\"{'btn-box-item-selected':curName=='canvas'}\"\n        @click=\"getEntity('canvas')\"\n      >Canvas</div>\n    </btn>\n    <base-cesium @getViewer=\"getViewer\" :imgurl=\"imgurl\"></base-cesium>\n    <video id=\"trailer\" muted autoplay loop crossorigin controls>\n      <source src=\"video/big-buck-bunny_trailer.webm\" type=\"video/webm\">\n      <source src=\"video/big-buck-bunny_trailer.mp4\" type=\"video/mp4\">\n      <source src=\"video/big-buck-bunny_trailer.mov\" type=\"video/quicktime\">Your browser does not support the\n      <code>video</code> element.\n    </video>\n  </div>\n</template>\n\n<script>\nimport Cesium from \"cesium/Cesium\";\nimport BaseCesium from \"@/components/BaseCesium\";\nimport { lxzx3 } from \"@/assets/data/graphics.js\";\nimport { gcj02towgs84 } from \"@/utils/transfer.js\";\nexport default {\n  components: {\n    BaseCesium\n  },\n  data() {\n    return {\n      viewer: null,\n      curName: null,\n      oldMouseOverPick: null,\n      imgurl: \"\" //\"/images/world.jpg\"\n    };\n  },\n\n  mounted() {},\n  methods: {\n    getViewer(v) {\n      this.viewer = v;\n      // this.rejectPickerEvent();\n      this.addEntity();\n    },\n    getEntity(n) {},\n    addEntity() {\n      var videoElement = document.getElementById(\"trailer\");\n      var graphic = this.transferToWGS84();\n      var wyoming = this.viewer.entities.add({\n        id: \"lxzx3\",\n        polygon: {\n          hierarchy: Cesium.Cartesian3.fromDegreesArray(graphic),\n          height: 0, //离地高度\n          extrudedHeight: 50, //物体高度\n          material: videoElement,\n          outline: true,\n          outlineColor: Cesium.Color.BLACK\n        },\n        description: `这里是成都市高新区理想中心3栋`\n      });\n      var isRepeating = true;\n      wyoming.polygon.material.repeat = new Cesium.CallbackProperty(function(\n        time,\n        result\n      ) {\n        if (!Cesium.defined(result)) {\n          result = new Cesium.Cartesian2();\n        }\n        if (isRepeating) {\n          result.x = 8;\n          result.y = 8;\n        } else {\n          result.x = 1;\n          result.y = 1;\n        }\n        return result;\n      },\n      false);\n      this.viewer.zoomTo(wyoming);\n    },\n\n    rejectPickerEvent() {\n      let vm = this;\n      var handler = new Cesium.ScreenSpaceEventHandler(vm.viewer.scene.canvas);\n      handler.setInputAction(movement => {\n        var pick = vm.viewer.scene.pick(movement.position);\n      }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n      handler.setInputAction(movement => {},\n      Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    },\n\n    transferToWGS84() {\n      var newLXZX3 = [];\n      _.forEach(lxzx3, item => {\n        newLXZX3.push(gcj02towgs84(item[0], item[1]));\n      });\n      return _.flatten(newLXZX3);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang='scss' scoped>\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./materials.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./materials.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./materials.vue?vue&type=template&id=6ef5f51e&scoped=true&\"\nimport script from \"./materials.vue?vue&type=script&lang=js&\"\nexport * from \"./materials.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ef5f51e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}